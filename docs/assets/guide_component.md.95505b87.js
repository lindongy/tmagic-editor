import{_ as s,o as a,c as n,V as l}from"./chunks/framework.9dc51b52.js";const A=JSON.parse('{"title":"å¦‚ä½•å¼€å‘ä¸€ä¸ªç»„ä»¶","description":"","frontmatter":{},"headers":[],"relativePath":"guide/component.md","filePath":"guide/component.md"}'),p={name:"guide/component.md"},o=l(`<h1 id="å¦‚ä½•å¼€å‘ä¸€ä¸ªç»„ä»¶" tabindex="-1">å¦‚ä½•å¼€å‘ä¸€ä¸ªç»„ä»¶ <a class="header-anchor" href="#å¦‚ä½•å¼€å‘ä¸€ä¸ªç»„ä»¶" aria-label="Permalink to &quot;å¦‚ä½•å¼€å‘ä¸€ä¸ªç»„ä»¶&quot;">â€‹</a></h1><p>tmagic-editoræ”¯æŒä¸šåŠ¡æ–¹è¿›è¡Œè‡ªå®šä¹‰ç»„ä»¶å¼€å‘ã€‚åœ¨tmagic-editorä¸­ï¼Œç»„ä»¶æ˜¯ä»¥ npm åŒ…å½¢å¼å­˜åœ¨çš„ï¼Œç»„ä»¶å’Œæ’ä»¶åªè¦æŒ‰ç…§è§„èŒƒå¼€å‘ï¼Œå°±å¯ä»¥åœ¨tmagic-editorçš„ runtime ä¸­è¢«åŠ å…¥å¹¶æ­£ç¡®æ¸²æŸ“ç»„ä»¶ã€‚</p><h2 id="ç»„ä»¶å¼€å‘" tabindex="-1">ç»„ä»¶å¼€å‘ <a class="header-anchor" href="#ç»„ä»¶å¼€å‘" aria-label="Permalink to &quot;ç»„ä»¶å¼€å‘&quot;">â€‹</a></h2><p>ä»¥ vue3 çš„ç»„ä»¶å¼€å‘ä¸ºä¾‹ã€‚è¿è¡Œé¡¹ç›®ä¸­çš„ playground ç¤ºä¾‹ï¼Œä¼šè‡ªåŠ¨åŠ è½½ vue3 çš„ runtimeã€‚runtimeä¼šåŠ è½½<a href="https://github.com/Tencent/tmagic-editor/tree/master/packages/ui" target="_blank" rel="noreferrer">@tmagic/ui</a></p><h2 id="ç»„ä»¶æ³¨å†Œ" tabindex="-1">ç»„ä»¶æ³¨å†Œ <a class="header-anchor" href="#ç»„ä»¶æ³¨å†Œ" aria-label="Permalink to &quot;ç»„ä»¶æ³¨å†Œ&quot;">â€‹</a></h2><p>åœ¨ <a href="https://tencent.github.io/tmagic-editor/playground/index.html#/" target="_blank" rel="noreferrer">playground</a> ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥å°è¯•ç‚¹å‡»æ·»åŠ ä¸€ä¸ªç»„ä»¶ï¼Œåœ¨æ¨¡æ‹Ÿå™¨åŒºåŸŸé‡Œï¼Œå°±ä¼šå‡ºç°è¿™ä¸ªç»„ä»¶ã€‚å…¶ä¸­å°±æ¶‰åŠåˆ°ç»„ä»¶æ³¨å†Œã€‚</p><p>è¿™ä¸€æ­¥éœ€è¦å¼€å‘è€…åŸºäºtmagic-editoræ­å»ºäº†å¹³å°åï¼Œå®ç°ç»„ä»¶åˆ—è¡¨çš„æ³¨å†Œã€è·å–æœºåˆ¶ï¼Œtmagic-editorç»„ä»¶æ³¨å†Œå…¶å®å°±æ˜¯ä¿å­˜å¥½ç»„ä»¶ <code>type</code> çš„æ˜ å°„å…³ç³»ã€‚<code>type</code> å¯ä»¥å‚è€ƒ<a href="./../guide/conception.html#ç»„ä»¶">ç»„ä»¶ä»‹ç»</a>ã€‚</p><p>å¯ä»¥å‚è€ƒ vue3 ç‰ˆæœ¬çš„ @tmagic/ui ä¸­ï¼Œ<a href="./../guide/advanced/page.html#ç»„ä»¶æ¸²æŸ“">ç»„ä»¶æ¸²æŸ“</a>é€»è¾‘é‡Œï¼Œtype ä¼šä½œä¸ºç»„ä»¶åè¿›å…¥æ¸²æŸ“ã€‚æ‰€ä»¥åœ¨ vue3 çš„ç»„ä»¶å¼€å‘ä¸­ï¼Œæˆ‘ä»¬ä¹Ÿéœ€è¦åœ¨ä¸º vue ç»„ä»¶å£°æ˜ name å­—æ®µæ—¶ï¼Œå’Œ type å€¼å¯¹åº”èµ·æ¥ï¼Œæ‰èƒ½æ­£ç¡®æ¸²æŸ“ç»„ä»¶ã€‚</p><h3 id="ç»„ä»¶è§„èŒƒ" tabindex="-1">ç»„ä»¶è§„èŒƒ <a class="header-anchor" href="#ç»„ä»¶è§„èŒƒ" aria-label="Permalink to &quot;ç»„ä»¶è§„èŒƒ&quot;">â€‹</a></h3><p>ç»„ä»¶çš„åŸºç¡€å½¢å¼ï¼Œéœ€è¦æœ‰å››ä¸ªæ–‡ä»¶</p><ul><li>index å…¥å£æ–‡ä»¶ï¼Œå¼•å…¥ä¸‹é¢å‡ ä¸ªæ–‡ä»¶</li><li>formConfig è¡¨å•é…ç½®æè¿°</li><li>initValue è¡¨å•åˆå§‹å€¼</li><li>event å®šä¹‰è”åŠ¨äº‹ä»¶ï¼Œå…·ä½“å¯ä»¥å‚è€ƒ<a href="./../guide/advanced/coupling.html#ç»„ä»¶è”åŠ¨">ç»„ä»¶è”åŠ¨</a></li><li>component.{vue,jsx} ç»„ä»¶æ ·å¼ã€é€»è¾‘ä»£ç </li></ul><p>@tmagic/ui ä¸­çš„ button/text å°±æ˜¯åŸºç¡€çš„ç»„ä»¶ç¤ºä¾‹ã€‚æˆ‘ä»¬è¦æ±‚å£°æ˜ index å…¥å£ï¼Œå› ä¸ºæˆ‘ä»¬å¸Œæœ›åœ¨åç»­çš„é…å¥—æ‰“åŒ…å·¥å…·å®ç°ä¸Šï¼Œå¯ä»¥æœ‰ä¸€ä¸ªç»Ÿä¸€è§„èŒƒå…¥å£ã€‚</p><h3 id="_1-åˆ›å»ºç»„ä»¶" tabindex="-1">1. åˆ›å»ºç»„ä»¶ <a class="header-anchor" href="#_1-åˆ›å»ºç»„ä»¶" aria-label="Permalink to &quot;1. åˆ›å»ºç»„ä»¶&quot;">â€‹</a></h3><p>åœ¨é¡¹ç›®ä¸­ï¼Œå¦‚ runtime vue3 ç›®å½•ä¸­ï¼Œåˆ›å»ºä¸€ä¸ªåä¸º test-component çš„ç»„ä»¶ç›®å½•ï¼Œå…¶ä¸­åŒ…å«ä¸Šé¢å››ä¸ªè§„èŒƒæ–‡ä»¶ã€‚</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// index.js</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// vue</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> Test </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./Test.vue</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// react </span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> Test </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./Test.tsx</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;font-style:italic;">default</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;font-style:italic;">as</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">config</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./formConfig</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;font-style:italic;">default</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;font-style:italic;">as</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">value</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./initValue</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">default</span><span style="color:#A6ACCD;"> Test</span><span style="color:#89DDFF;">;</span></span></code></pre></div><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// formConfig.js</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">default</span><span style="color:#A6ACCD;"> [</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">type</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">select</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">text</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">å­—ä½“é¢œè‰²</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">color</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">options</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">text</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">çº¢è‰²å­—ä½“</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">value</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">red</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">text</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">è“è‰²å­—ä½“</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">value</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">blue</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">    ]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">text</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">text</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">é…ç½®æ–‡æ¡ˆ</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">;</span></span></code></pre></div><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// initValue.js</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">default</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">color</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">red</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">text</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">ä¸€æ®µæ–‡å­—</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span></code></pre></div><p>vue3 ç‰ˆæœ¬çš„ç»„ä»¶ä»£ç ç¤ºä¾‹</p><div class="language-vue"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">&lt;!-- Test.vue --&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">template</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">span</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">this is a Test component:</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">span</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">span</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">:style</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">{ color: config.color }</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">{{ config.text }}</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">span</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">template</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">default</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">magic-ui-test</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">props</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">config</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">type</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> Object</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#82AAFF;">default</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> (</span><span style="color:#89DDFF;">{}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">setup</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{},</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;">&gt;</span></span></code></pre></div><p>react ç‰ˆæœ¬ç»„ä»¶ä»£ç ç¤ºä¾‹</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// Test.tsx</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> React</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">useContext</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">react</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> Core </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">@tmagic/core</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">AppContent</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">@tmagic/ui-react</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Test</span><span style="color:#89DDFF;">({</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">config</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">}:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">config</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">any</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">})</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">app</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">useContext</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">Core</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">|</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">undefined</span><span style="color:#89DDFF;">&gt;</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">AppContent</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">app</span><span style="color:#F07178;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> (</span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">id</span><span style="color:#89DDFF;">={</span><span style="color:#A6ACCD;">config</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">id</span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#C792EA;">style</span><span style="color:#89DDFF;">={</span><span style="color:#A6ACCD;">app</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">transformStyle</span><span style="color:#A6ACCD;">(config</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">style </span><span style="color:#89DDFF;">||</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">}&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">span</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">this is a Test component:</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">span</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">span</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">style</span><span style="color:#89DDFF;">={</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">color</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> config</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">color </span><span style="color:#89DDFF;">}}&gt;{</span><span style="color:#A6ACCD;"> config</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">text </span><span style="color:#89DDFF;">}&lt;/</span><span style="color:#F07178;">span</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">default</span><span style="color:#A6ACCD;"> Test</span><span style="color:#89DDFF;">;</span></span></code></pre></div><h3 id="_2-ä½¿ç”¨tmagic-cli" tabindex="-1">2. ä½¿ç”¨tmagic-cli <a class="header-anchor" href="#_2-ä½¿ç”¨tmagic-cli" aria-label="Permalink to &quot;2. ä½¿ç”¨tmagic-cli&quot;">â€‹</a></h3><p>åœ¨ runtime vue3 ä¸­ï¼Œæˆ‘ä»¬å·²ç»æä¾›å¥½ä¸€ä»½ç¤ºä¾‹ã€‚åœ¨ tmagic.config.ts æ–‡ä»¶ä¸­ã€‚åªéœ€è¦åœ¨ packages åŠ å…¥ä½ åˆ›å»ºçš„ç»„ä»¶çš„è·¯å¾„ï¼ˆå¦‚æœæ˜¯ä¸ª npm åŒ…ï¼Œåˆ™å°†è·¯å¾„æ›¿æ¢ä¸ºåŒ…åå³å¯ï¼‰ï¼Œæ‰“åŒ…å·¥å…·å°±ä¼šè‡ªåŠ¨è¯†åˆ«åˆ°ä½ çš„ç»„ä»¶ã€‚</p><h3 id="_3-å¯åŠ¨-playground" tabindex="-1">3. å¯åŠ¨ playground <a class="header-anchor" href="#_3-å¯åŠ¨-playground" aria-label="Permalink to &quot;3. å¯åŠ¨ playground&quot;">â€‹</a></h3><p>åœ¨ä¸Šé¢çš„æ­¥éª¤å®Œæˆåï¼Œåœ¨ playground/src/configs/componentGroupList ä¸­ã€‚æ‰¾åˆ°ç»„ä»¶æ çš„åŸºç¡€ç»„ä»¶åˆ—è¡¨ï¼Œåœ¨å…¶ä¸­åŠ å…¥ä½ çš„å¼€å‘ç»„ä»¶</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#FFCB6B;">title</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">åŸºç¡€ç»„ä»¶</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#FFCB6B;">items</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> [</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      text</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">æ–‡æœ¬</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">      type</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">text</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      text</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">æŒ‰é’®</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">      type</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">button</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// åŠ å…¥è¿™ä¸ªæµ‹è¯•ç»„ä»¶</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      text</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">æµ‹è¯•</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">      type</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">test</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#F07178;">  ]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><p>ç„¶åï¼Œåœ¨ magic é¡¹ç›®æ ¹ç›®å½•ä¸­ï¼Œè¿è¡Œ</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">npm run playground</span></span></code></pre></div><p>è‡³æ­¤ï¼Œæˆ‘ä»¬æ‰“å¼€ playground åï¼Œå°±èƒ½æ·»åŠ å¼€å‘çš„ä¸­çš„ç»„ä»¶ï¼Œå¹¶ä¸”å¾—åˆ°è¿™ä¸ªå¼€å‘ä¸­çš„ç»„ä»¶<strong>åœ¨ç¼–è¾‘å™¨ä¸­çš„è¡¨ç°</strong>äº†ã€‚</p><img src="https://image.video.qpic.cn/oa_fd3c9c-3_548108267_1636719045199471"><h3 id="_4-å¯åŠ¨-runtime" tabindex="-1">4. å¯åŠ¨ runtime <a class="header-anchor" href="#_4-å¯åŠ¨-runtime" aria-label="Permalink to &quot;4. å¯åŠ¨ runtime&quot;">â€‹</a></h3><p>åœ¨å®Œæˆå¼€å‘ä¸­ç»„ä»¶åœ¨ç¼–è¾‘å™¨ä¸­çš„å®ç°åï¼Œæˆ‘ä»¬å°†ç¼–è¾‘å™¨ä¸­çš„ DSL æºç ğŸ“„ æ‰“å¼€ï¼Œå¤åˆ¶ DSLã€‚å¹¶åœ¨ runtime/vue3/src/page ä¸‹ã€‚åˆ›å»ºä¸€ä¸ª page-config.js æ–‡ä»¶ã€‚å°† DSL ä½œä¸ºé…ç½®å¯¼å‡ºã€‚</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">window</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">magicDSL </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> [</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// DSL</span></span>
<span class="line"><span style="color:#A6ACCD;">]</span></span></code></pre></div><p>åœ¨ page/main.ts ä¸­ï¼Œå°†è¿™ä»½é…ç½®è¯»å…¥</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./page-config.js</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span></code></pre></div><p>ç„¶åæ‰§è¡Œåœ¨ runtime/vue3 ç›®å½•ä¸‹æ‰§è¡Œ</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">npm run start</span></span></code></pre></div><p>è‡³æ­¤ï¼Œæˆ‘ä»¬å°±å¯ä»¥å¾—åˆ°è¿™ä¸ªå¼€å‘ä¸­ç»„ä»¶åœ¨ç¼–è¾‘å™¨ä¸­è¿›è¡Œäº†é…ç½®å¹¶ä¿å­˜åï¼Œåœ¨çœŸå®é¡µé¢ä¸­åº”è¯¥æœ‰çš„æ ·å­ã€‚</p><img src="https://image.video.qpic.cn/oa_fd3c9c-3_1731965034_1636719708671597?imageView2/q/70" width="50%"><h2 id="æ’ä»¶å¼€å‘" tabindex="-1">æ’ä»¶å¼€å‘ <a class="header-anchor" href="#æ’ä»¶å¼€å‘" aria-label="Permalink to &quot;æ’ä»¶å¼€å‘&quot;">â€‹</a></h2><p>æ’ä»¶å¼€å‘å’Œç»„ä»¶å¼€å‘å½¢å¼ç±»ä¼¼ï¼Œä½†æ˜¯æ’ä»¶å¼€å‘ä¸éœ€è¦æœ‰ç»„ä»¶çš„è§„èŒƒã€‚åœ¨ä»¥ vue ä¸ºåŸºç¡€çš„ ui å’Œ runtime ä¸­ï¼Œæ’ä»¶å…¶å®å°±æ˜¯ä¸€ä¸ª vue æ’ä»¶ã€‚</p><p>æˆ‘ä»¬åªéœ€è¦åœ¨æ’ä»¶ä¸­æä¾›ä¸€ä¸ªå…¥å£æ–‡ä»¶ï¼Œå…¶ä¸­åŒ…å« vue çš„ install æ–¹æ³•å³å¯ã€‚</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">default</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">install</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><p>åœ¨æ’ä»¶ä¸­å¼€å‘è€…å¯ä»¥è‡ªç”±å®ç°éœ€è¦çš„ä¸šåŠ¡é€»è¾‘ã€‚æ’ä»¶å’Œç»„ä»¶ä¸€æ ·ï¼Œåªéœ€è¦åœ¨ units.js ä¸­ï¼ŒåŠ å…¥å¯¼å‡ºçš„ units å¯¹è±¡é‡Œå³å¯ã€‚</p><h2 id="ä¸šåŠ¡å®šåˆ¶" tabindex="-1">ä¸šåŠ¡å®šåˆ¶ <a class="header-anchor" href="#ä¸šåŠ¡å®šåˆ¶" aria-label="Permalink to &quot;ä¸šåŠ¡å®šåˆ¶&quot;">â€‹</a></h2><p>ä¸Šè¿°çš„æ­¥éª¤ï¼Œå¦‚</p><ol><li>ç»„ä»¶/æ’ä»¶åˆå§‹åŒ–</li><li>ç¼–è¾‘å™¨ä¸­çš„ç»„ä»¶è°ƒè¯•</li><li>çœŸå®é¡µé¢çš„ç»„ä»¶è°ƒè¯•</li><li>ç¼–è¾‘å™¨ä¸­çš„ DSL åŒæ­¥è‡³æœ¬åœ°è°ƒè¯•é¡µé¢</li></ol><p>ç­‰è®¸å¤šæ­¥éª¤ï¼Œéƒ½å¯ä»¥äº¤ç”±ä¸šåŠ¡æ–¹è¿›è¡Œå®šåˆ¶ï¼Œå¼€å‘ä¸šåŠ¡è‡ªå®šä¹‰çš„è„šæ‰‹æ¶å·¥å…·ï¼Œæˆ–è€…å¦‚ç¤ºä¾‹ä¸­ä¸€æ ·ï¼Œä½¿ç”¨æ‰“åŒ…è„šæœ¬æ¥å¤„ç†ã€‚</p>`,48),e=[o];function t(c,r,D,F,y,i){return a(),n("div",null,e)}const d=s(p,[["render",t]]);export{A as __pageData,d as default};
