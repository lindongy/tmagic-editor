var Un=Object.defineProperty;var Hn=(t,n,e)=>n in t?Un(t,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[n]=e;var g=(t,n,e)=>(Hn(t,typeof n!="symbol"?n+"":n,e),e);function Nc(){import.meta.url,import("_").catch(()=>1);async function*t(){}}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function e(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=e(i);fetch(i.href,s)}})();const Wn="modulepreload",Bn=function(t){return"/tmagic-editor/playground/runtime/vue3/playground/"+t},re={},ie=function(n,e,r){if(!e||e.length===0)return n();const i=document.getElementsByTagName("link");return Promise.all(e.map(s=>{if(s=Bn(s),s in re)return;re[s]=!0;const o=s.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!r)for(let y=i.length-1;y>=0;y--){const p=i[y];if(p.href===s&&(!o||p.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${a}`))return;const u=document.createElement("link");if(u.rel=o?"stylesheet":Wn,o||(u.as="script",u.crossOrigin=""),u.href=s,document.head.appendChild(u),o)return new Promise((y,p)=>{u.addEventListener("load",y),u.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>n())};var We=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Bt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var zt={exports:{}},it=typeof Reflect=="object"?Reflect:null,se=it&&typeof it.apply=="function"?it.apply:function(n,e,r){return Function.prototype.apply.call(n,e,r)},bt;it&&typeof it.ownKeys=="function"?bt=it.ownKeys:Object.getOwnPropertySymbols?bt=function(n){return Object.getOwnPropertyNames(n).concat(Object.getOwnPropertySymbols(n))}:bt=function(n){return Object.getOwnPropertyNames(n)};function zn(t){console&&console.warn&&console.warn(t)}var Be=Number.isNaN||function(n){return n!==n};function w(){w.init.call(this)}zt.exports=w;zt.exports.once=Gn;w.EventEmitter=w;w.prototype._events=void 0;w.prototype._eventsCount=0;w.prototype._maxListeners=void 0;var oe=10;function St(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(w,"defaultMaxListeners",{enumerable:!0,get:function(){return oe},set:function(t){if(typeof t!="number"||t<0||Be(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");oe=t}});w.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};w.prototype.setMaxListeners=function(n){if(typeof n!="number"||n<0||Be(n))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+n+".");return this._maxListeners=n,this};function ze(t){return t._maxListeners===void 0?w.defaultMaxListeners:t._maxListeners}w.prototype.getMaxListeners=function(){return ze(this)};w.prototype.emit=function(n){for(var e=[],r=1;r<arguments.length;r++)e.push(arguments[r]);var i=n==="error",s=this._events;if(s!==void 0)i=i&&s.error===void 0;else if(!i)return!1;if(i){var o;if(e.length>0&&(o=e[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var c=s[n];if(c===void 0)return!1;if(typeof c=="function")se(c,this,e);else for(var u=c.length,y=Ke(c,u),r=0;r<u;++r)se(y[r],this,e);return!0};function qe(t,n,e,r){var i,s,o;if(St(e),s=t._events,s===void 0?(s=t._events=Object.create(null),t._eventsCount=0):(s.newListener!==void 0&&(t.emit("newListener",n,e.listener?e.listener:e),s=t._events),o=s[n]),o===void 0)o=s[n]=e,++t._eventsCount;else if(typeof o=="function"?o=s[n]=r?[e,o]:[o,e]:r?o.unshift(e):o.push(e),i=ze(t),i>0&&o.length>i&&!o.warned){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(n)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=t,a.type=n,a.count=o.length,zn(a)}return t}w.prototype.addListener=function(n,e){return qe(this,n,e,!1)};w.prototype.on=w.prototype.addListener;w.prototype.prependListener=function(n,e){return qe(this,n,e,!0)};function qn(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Ve(t,n,e){var r={fired:!1,wrapFn:void 0,target:t,type:n,listener:e},i=qn.bind(r);return i.listener=e,r.wrapFn=i,i}w.prototype.once=function(n,e){return St(e),this.on(n,Ve(this,n,e)),this};w.prototype.prependOnceListener=function(n,e){return St(e),this.prependListener(n,Ve(this,n,e)),this};w.prototype.removeListener=function(n,e){var r,i,s,o,a;if(St(e),i=this._events,i===void 0)return this;if(r=i[n],r===void 0)return this;if(r===e||r.listener===e)--this._eventsCount===0?this._events=Object.create(null):(delete i[n],i.removeListener&&this.emit("removeListener",n,r.listener||e));else if(typeof r!="function"){for(s=-1,o=r.length-1;o>=0;o--)if(r[o]===e||r[o].listener===e){a=r[o].listener,s=o;break}if(s<0)return this;s===0?r.shift():Vn(r,s),r.length===1&&(i[n]=r[0]),i.removeListener!==void 0&&this.emit("removeListener",n,a||e)}return this};w.prototype.off=w.prototype.removeListener;w.prototype.removeAllListeners=function(n){var e,r,i;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[n]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[n]),this;if(arguments.length===0){var s=Object.keys(r),o;for(i=0;i<s.length;++i)o=s[i],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(e=r[n],typeof e=="function")this.removeListener(n,e);else if(e!==void 0)for(i=e.length-1;i>=0;i--)this.removeListener(n,e[i]);return this};function Ye(t,n,e){var r=t._events;if(r===void 0)return[];var i=r[n];return i===void 0?[]:typeof i=="function"?e?[i.listener||i]:[i]:e?Yn(i):Ke(i,i.length)}w.prototype.listeners=function(n){return Ye(this,n,!0)};w.prototype.rawListeners=function(n){return Ye(this,n,!1)};w.listenerCount=function(t,n){return typeof t.listenerCount=="function"?t.listenerCount(n):Ge.call(t,n)};w.prototype.listenerCount=Ge;function Ge(t){var n=this._events;if(n!==void 0){var e=n[t];if(typeof e=="function")return 1;if(e!==void 0)return e.length}return 0}w.prototype.eventNames=function(){return this._eventsCount>0?bt(this._events):[]};function Ke(t,n){for(var e=new Array(n),r=0;r<n;++r)e[r]=t[r];return e}function Vn(t,n){for(;n+1<t.length;n++)t[n]=t[n+1];t.pop()}function Yn(t){for(var n=new Array(t.length),e=0;e<n.length;++e)n[e]=t[e].listener||t[e];return n}function Gn(t,n){return new Promise(function(e,r){function i(o){t.removeListener(n,s),r(o)}function s(){typeof t.removeListener=="function"&&t.removeListener("error",i),e([].slice.call(arguments))}ke(t,n,s,{once:!0}),n!=="error"&&Kn(t,i,{once:!0})})}function Kn(t,n,e){typeof t.on=="function"&&ke(t,"error",n,e)}function ke(t,n,e,r){if(typeof t.on=="function")r.once?t.once(n,e):t.on(n,e);else if(typeof t.addEventListener=="function")t.addEventListener(n,function i(s){r.once&&t.removeEventListener(n,i),e(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}var qt=zt.exports;const Qe=Bt(qt);var kn=typeof global=="object"&&global&&global.Object===Object&&global;const Ze=kn;var Qn=typeof self=="object"&&self&&self.Object===Object&&self,Zn=Ze||Qn||Function("return this")();const H=Zn;var Jn=H.Symbol;const V=Jn;var Je=Object.prototype,Xn=Je.hasOwnProperty,tr=Je.toString,ft=V?V.toStringTag:void 0;function er(t){var n=Xn.call(t,ft),e=t[ft];try{t[ft]=void 0;var r=!0}catch(s){}var i=tr.call(t);return r&&(n?t[ft]=e:delete t[ft]),i}var nr=Object.prototype,rr=nr.toString;function ir(t){return rr.call(t)}var sr="[object Null]",or="[object Undefined]",ae=V?V.toStringTag:void 0;function Y(t){return t==null?t===void 0?or:sr:ae&&ae in Object(t)?er(t):ir(t)}function G(t){return t!=null&&typeof t=="object"}var ar="[object Symbol]";function Vt(t){return typeof t=="symbol"||G(t)&&Y(t)==ar}function Xe(t,n){for(var e=-1,r=t==null?0:t.length,i=Array(r);++e<r;)i[e]=n(t[e],e,t);return i}var cr=Array.isArray;const K=cr;var ur=1/0,ce=V?V.prototype:void 0,ue=ce?ce.toString:void 0;function tn(t){if(typeof t=="string")return t;if(K(t))return Xe(t,tn)+"";if(Vt(t))return ue?ue.call(t):"";var n=t+"";return n=="0"&&1/t==-ur?"-0":n}function ot(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}function en(t){return t}var fr="[object AsyncFunction]",lr="[object Function]",hr="[object GeneratorFunction]",dr="[object Proxy]";function nn(t){if(!ot(t))return!1;var n=Y(t);return n==lr||n==hr||n==fr||n==dr}var pr=H["__core-js_shared__"];const It=pr;var fe=function(){var t=/[^.]+$/.exec(It&&It.keys&&It.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function gr(t){return!!fe&&fe in t}var yr=Function.prototype,mr=yr.toString;function tt(t){if(t!=null){try{return mr.call(t)}catch(n){}try{return t+""}catch(n){}}return""}var vr=/[\\^$.*+?()[\]{}|]/g,$r=/^\[object .+?Constructor\]$/,br=Function.prototype,_r=Object.prototype,wr=br.toString,Or=_r.hasOwnProperty,Tr=RegExp("^"+wr.call(Or).replace(vr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Sr(t){if(!ot(t)||gr(t))return!1;var n=nn(t)?Tr:$r;return n.test(tt(t))}function Er(t,n){return t==null?void 0:t[n]}function et(t,n){var e=Er(t,n);return Sr(e)?e:void 0}var jr=et(H,"WeakMap");const Ft=jr;var le=Object.create,Mr=function(){function t(){}return function(n){if(!ot(n))return{};if(le)return le(n);t.prototype=n;var e=new t;return t.prototype=void 0,e}}();const Ar=Mr;function rn(t,n,e){switch(e.length){case 0:return t.call(n);case 1:return t.call(n,e[0]);case 2:return t.call(n,e[0],e[1]);case 3:return t.call(n,e[0],e[1],e[2])}return t.apply(n,e)}function Cr(t,n){var e=-1,r=t.length;for(n||(n=Array(r));++e<r;)n[e]=t[e];return n}var Lr=800,Pr=16,Dr=Date.now;function xr(t){var n=0,e=0;return function(){var r=Dr(),i=Pr-(r-e);if(e=r,i>0){if(++n>=Lr)return arguments[0]}else n=0;return t.apply(void 0,arguments)}}function Ir(t){return function(){return t}}var Nr=function(){try{var t=et(Object,"defineProperty");return t({},"",{}),t}catch(n){}}();const Ot=Nr;var Fr=Ot?function(t,n){return Ot(t,"toString",{configurable:!0,enumerable:!1,value:Ir(n),writable:!0})}:en;const Rr=Fr;var Ur=xr(Rr);const Hr=Ur;function Wr(t,n){for(var e=-1,r=t==null?0:t.length;++e<r&&n(t[e],e,t)!==!1;);return t}var Br=9007199254740991,zr=/^(?:0|[1-9]\d*)$/;function Yt(t,n){var e=typeof t;return n=n==null?Br:n,!!n&&(e=="number"||e!="symbol"&&zr.test(t))&&t>-1&&t%1==0&&t<n}function sn(t,n,e){n=="__proto__"&&Ot?Ot(t,n,{configurable:!0,enumerable:!0,value:e,writable:!0}):t[n]=e}function Et(t,n){return t===n||t!==t&&n!==n}var qr=Object.prototype,Vr=qr.hasOwnProperty;function on(t,n,e){var r=t[n];(!(Vr.call(t,n)&&Et(r,e))||e===void 0&&!(n in t))&&sn(t,n,e)}function gt(t,n,e,r){var i=!e;e||(e={});for(var s=-1,o=n.length;++s<o;){var a=n[s],c=r?r(e[a],t[a],a,e,t):void 0;c===void 0&&(c=t[a]),i?sn(e,a,c):on(e,a,c)}return e}var he=Math.max;function Yr(t,n,e){return n=he(n===void 0?t.length-1:n,0),function(){for(var r=arguments,i=-1,s=he(r.length-n,0),o=Array(s);++i<s;)o[i]=r[n+i];i=-1;for(var a=Array(n+1);++i<n;)a[i]=r[i];return a[n]=e(o),rn(t,this,a)}}function an(t,n){return Hr(Yr(t,n,en),t+"")}var Gr=9007199254740991;function Gt(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Gr}function jt(t){return t!=null&&Gt(t.length)&&!nn(t)}function cn(t,n,e){if(!ot(e))return!1;var r=typeof n;return(r=="number"?jt(e)&&Yt(n,e.length):r=="string"&&n in e)?Et(e[n],t):!1}function Kr(t){return an(function(n,e){var r=-1,i=e.length,s=i>1?e[i-1]:void 0,o=i>2?e[2]:void 0;for(s=t.length>3&&typeof s=="function"?(i--,s):void 0,o&&cn(e[0],e[1],o)&&(s=i<3?void 0:s,i=1),n=Object(n);++r<i;){var a=e[r];a&&t(n,a,r,s)}return n})}var kr=Object.prototype;function Mt(t){var n=t&&t.constructor,e=typeof n=="function"&&n.prototype||kr;return t===e}function Qr(t,n){for(var e=-1,r=Array(t);++e<t;)r[e]=n(e);return r}var Zr="[object Arguments]";function de(t){return G(t)&&Y(t)==Zr}var un=Object.prototype,Jr=un.hasOwnProperty,Xr=un.propertyIsEnumerable,ti=de(function(){return arguments}())?de:function(t){return G(t)&&Jr.call(t,"callee")&&!Xr.call(t,"callee")};const Kt=ti;function ei(){return!1}var fn=typeof exports=="object"&&exports&&!exports.nodeType&&exports,pe=fn&&typeof module=="object"&&module&&!module.nodeType&&module,ni=pe&&pe.exports===fn,ge=ni?H.Buffer:void 0,ri=ge?ge.isBuffer:void 0,ii=ri||ei;const kt=ii;var si="[object Arguments]",oi="[object Array]",ai="[object Boolean]",ci="[object Date]",ui="[object Error]",fi="[object Function]",li="[object Map]",hi="[object Number]",di="[object Object]",pi="[object RegExp]",gi="[object Set]",yi="[object String]",mi="[object WeakMap]",vi="[object ArrayBuffer]",$i="[object DataView]",bi="[object Float32Array]",_i="[object Float64Array]",wi="[object Int8Array]",Oi="[object Int16Array]",Ti="[object Int32Array]",Si="[object Uint8Array]",Ei="[object Uint8ClampedArray]",ji="[object Uint16Array]",Mi="[object Uint32Array]",E={};E[bi]=E[_i]=E[wi]=E[Oi]=E[Ti]=E[Si]=E[Ei]=E[ji]=E[Mi]=!0;E[si]=E[oi]=E[vi]=E[ai]=E[$i]=E[ci]=E[ui]=E[fi]=E[li]=E[hi]=E[di]=E[pi]=E[gi]=E[yi]=E[mi]=!1;function Ai(t){return G(t)&&Gt(t.length)&&!!E[Y(t)]}function Qt(t){return function(n){return t(n)}}var ln=typeof exports=="object"&&exports&&!exports.nodeType&&exports,lt=ln&&typeof module=="object"&&module&&!module.nodeType&&module,Ci=lt&&lt.exports===ln,Nt=Ci&&Ze.process,Li=function(){try{var t=lt&&lt.require&&lt.require("util").types;return t||Nt&&Nt.binding&&Nt.binding("util")}catch(n){}}();const st=Li;var ye=st&&st.isTypedArray,Pi=ye?Qt(ye):Ai;const hn=Pi;var Di=Object.prototype,xi=Di.hasOwnProperty;function dn(t,n){var e=K(t),r=!e&&Kt(t),i=!e&&!r&&kt(t),s=!e&&!r&&!i&&hn(t),o=e||r||i||s,a=o?Qr(t.length,String):[],c=a.length;for(var u in t)(n||xi.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Yt(u,c)))&&a.push(u);return a}function pn(t,n){return function(e){return t(n(e))}}var Ii=pn(Object.keys,Object);const Ni=Ii;var Fi=Object.prototype,Ri=Fi.hasOwnProperty;function gn(t){if(!Mt(t))return Ni(t);var n=[];for(var e in Object(t))Ri.call(t,e)&&e!="constructor"&&n.push(e);return n}function At(t){return jt(t)?dn(t):gn(t)}function Ui(t){var n=[];if(t!=null)for(var e in Object(t))n.push(e);return n}var Hi=Object.prototype,Wi=Hi.hasOwnProperty;function Bi(t){if(!ot(t))return Ui(t);var n=Mt(t),e=[];for(var r in t)r=="constructor"&&(n||!Wi.call(t,r))||e.push(r);return e}function Ct(t){return jt(t)?dn(t,!0):Bi(t)}var zi=Kr(function(t,n,e,r){gt(n,Ct(n),t,r)});const me=zi;var qi=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Vi=/^\w*$/;function Yi(t,n){if(K(t))return!1;var e=typeof t;return e=="number"||e=="symbol"||e=="boolean"||t==null||Vt(t)?!0:Vi.test(t)||!qi.test(t)||n!=null&&t in Object(n)}var Gi=et(Object,"create");const dt=Gi;function Ki(){this.__data__=dt?dt(null):{},this.size=0}function ki(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}var Qi="__lodash_hash_undefined__",Zi=Object.prototype,Ji=Zi.hasOwnProperty;function Xi(t){var n=this.__data__;if(dt){var e=n[t];return e===Qi?void 0:e}return Ji.call(n,t)?n[t]:void 0}var ts=Object.prototype,es=ts.hasOwnProperty;function ns(t){var n=this.__data__;return dt?n[t]!==void 0:es.call(n,t)}var rs="__lodash_hash_undefined__";function is(t,n){var e=this.__data__;return this.size+=this.has(t)?0:1,e[t]=dt&&n===void 0?rs:n,this}function X(t){var n=-1,e=t==null?0:t.length;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}X.prototype.clear=Ki;X.prototype.delete=ki;X.prototype.get=Xi;X.prototype.has=ns;X.prototype.set=is;function ss(){this.__data__=[],this.size=0}function Lt(t,n){for(var e=t.length;e--;)if(Et(t[e][0],n))return e;return-1}var os=Array.prototype,as=os.splice;function cs(t){var n=this.__data__,e=Lt(n,t);if(e<0)return!1;var r=n.length-1;return e==r?n.pop():as.call(n,e,1),--this.size,!0}function us(t){var n=this.__data__,e=Lt(n,t);return e<0?void 0:n[e][1]}function fs(t){return Lt(this.__data__,t)>-1}function ls(t,n){var e=this.__data__,r=Lt(e,t);return r<0?(++this.size,e.push([t,n])):e[r][1]=n,this}function B(t){var n=-1,e=t==null?0:t.length;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}B.prototype.clear=ss;B.prototype.delete=cs;B.prototype.get=us;B.prototype.has=fs;B.prototype.set=ls;var hs=et(H,"Map");const pt=hs;function ds(){this.size=0,this.__data__={hash:new X,map:new(pt||B),string:new X}}function ps(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}function Pt(t,n){var e=t.__data__;return ps(n)?e[typeof n=="string"?"string":"hash"]:e.map}function gs(t){var n=Pt(this,t).delete(t);return this.size-=n?1:0,n}function ys(t){return Pt(this,t).get(t)}function ms(t){return Pt(this,t).has(t)}function vs(t,n){var e=Pt(this,t),r=e.size;return e.set(t,n),this.size+=e.size==r?0:1,this}function k(t){var n=-1,e=t==null?0:t.length;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}k.prototype.clear=ds;k.prototype.delete=gs;k.prototype.get=ys;k.prototype.has=ms;k.prototype.set=vs;var $s="Expected a function";function Zt(t,n){if(typeof t!="function"||n!=null&&typeof n!="function")throw new TypeError($s);var e=function(){var r=arguments,i=n?n.apply(this,r):r[0],s=e.cache;if(s.has(i))return s.get(i);var o=t.apply(this,r);return e.cache=s.set(i,o)||s,o};return e.cache=new(Zt.Cache||k),e}Zt.Cache=k;var bs=500;function _s(t){var n=Zt(t,function(r){return e.size===bs&&e.clear(),r}),e=n.cache;return n}var ws=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Os=/\\(\\)?/g,Ts=_s(function(t){var n=[];return t.charCodeAt(0)===46&&n.push(""),t.replace(ws,function(e,r,i,s){n.push(i?s.replace(Os,"$1"):r||e)}),n});const Ss=Ts;function Jt(t){return t==null?"":tn(t)}function Es(t,n){return K(t)?t:Yi(t,n)?[t]:Ss(Jt(t))}var js=1/0;function Ms(t){if(typeof t=="string"||Vt(t))return t;var n=t+"";return n=="0"&&1/t==-js?"-0":n}function yn(t,n){for(var e=-1,r=n.length,i=t.length;++e<r;)t[i+e]=n[e];return t}var As=pn(Object.getPrototypeOf,Object);const Xt=As;var Cs="[object Object]",Ls=Function.prototype,Ps=Object.prototype,mn=Ls.toString,Ds=Ps.hasOwnProperty,xs=mn.call(Object);function Is(t){if(!G(t)||Y(t)!=Cs)return!1;var n=Xt(t);if(n===null)return!0;var e=Ds.call(n,"constructor")&&n.constructor;return typeof e=="function"&&e instanceof e&&mn.call(e)==xs}var Ns="[object DOMException]",Fs="[object Error]";function vn(t){if(!G(t))return!1;var n=Y(t);return n==Fs||n==Ns||typeof t.message=="string"&&typeof t.name=="string"&&!Is(t)}var Rs=an(function(t,n){try{return rn(t,void 0,n)}catch(e){return vn(e)?e:new Error(e)}});const Us=Rs;function Hs(t){return function(n){return t==null?void 0:t[n]}}function Ws(){this.__data__=new B,this.size=0}function Bs(t){var n=this.__data__,e=n.delete(t);return this.size=n.size,e}function zs(t){return this.__data__.get(t)}function qs(t){return this.__data__.has(t)}var Vs=200;function Ys(t,n){var e=this.__data__;if(e instanceof B){var r=e.__data__;if(!pt||r.length<Vs-1)return r.push([t,n]),this.size=++e.size,this;e=this.__data__=new k(r)}return e.set(t,n),this.size=e.size,this}function at(t){var n=this.__data__=new B(t);this.size=n.size}at.prototype.clear=Ws;at.prototype.delete=Bs;at.prototype.get=zs;at.prototype.has=qs;at.prototype.set=Ys;function Gs(t,n){return t&&gt(n,At(n),t)}function Ks(t,n){return t&&gt(n,Ct(n),t)}var $n=typeof exports=="object"&&exports&&!exports.nodeType&&exports,ve=$n&&typeof module=="object"&&module&&!module.nodeType&&module,ks=ve&&ve.exports===$n,$e=ks?H.Buffer:void 0,be=$e?$e.allocUnsafe:void 0;function Qs(t,n){if(n)return t.slice();var e=t.length,r=be?be(e):new t.constructor(e);return t.copy(r),r}function Zs(t,n){for(var e=-1,r=t==null?0:t.length,i=0,s=[];++e<r;){var o=t[e];n(o,e,t)&&(s[i++]=o)}return s}function bn(){return[]}var Js=Object.prototype,Xs=Js.propertyIsEnumerable,_e=Object.getOwnPropertySymbols,to=_e?function(t){return t==null?[]:(t=Object(t),Zs(_e(t),function(n){return Xs.call(t,n)}))}:bn;const te=to;function eo(t,n){return gt(t,te(t),n)}var no=Object.getOwnPropertySymbols,ro=no?function(t){for(var n=[];t;)yn(n,te(t)),t=Xt(t);return n}:bn;const _n=ro;function io(t,n){return gt(t,_n(t),n)}function wn(t,n,e){var r=n(t);return K(t)?r:yn(r,e(t))}function so(t){return wn(t,At,te)}function oo(t){return wn(t,Ct,_n)}var ao=et(H,"DataView");const Rt=ao;var co=et(H,"Promise");const Ut=co;var uo=et(H,"Set");const Ht=uo;var we="[object Map]",fo="[object Object]",Oe="[object Promise]",Te="[object Set]",Se="[object WeakMap]",Ee="[object DataView]",lo=tt(Rt),ho=tt(pt),po=tt(Ut),go=tt(Ht),yo=tt(Ft),J=Y;(Rt&&J(new Rt(new ArrayBuffer(1)))!=Ee||pt&&J(new pt)!=we||Ut&&J(Ut.resolve())!=Oe||Ht&&J(new Ht)!=Te||Ft&&J(new Ft)!=Se)&&(J=function(t){var n=Y(t),e=n==fo?t.constructor:void 0,r=e?tt(e):"";if(r)switch(r){case lo:return Ee;case ho:return we;case po:return Oe;case go:return Te;case yo:return Se}return n});const Dt=J;var mo=Object.prototype,vo=mo.hasOwnProperty;function $o(t){var n=t.length,e=new t.constructor(n);return n&&typeof t[0]=="string"&&vo.call(t,"index")&&(e.index=t.index,e.input=t.input),e}var bo=H.Uint8Array;const je=bo;function ee(t){var n=new t.constructor(t.byteLength);return new je(n).set(new je(t)),n}function _o(t,n){var e=n?ee(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.byteLength)}var wo=/\w*$/;function Oo(t){var n=new t.constructor(t.source,wo.exec(t));return n.lastIndex=t.lastIndex,n}var Me=V?V.prototype:void 0,Ae=Me?Me.valueOf:void 0;function To(t){return Ae?Object(Ae.call(t)):{}}function So(t,n){var e=n?ee(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.length)}var Eo="[object Boolean]",jo="[object Date]",Mo="[object Map]",Ao="[object Number]",Co="[object RegExp]",Lo="[object Set]",Po="[object String]",Do="[object Symbol]",xo="[object ArrayBuffer]",Io="[object DataView]",No="[object Float32Array]",Fo="[object Float64Array]",Ro="[object Int8Array]",Uo="[object Int16Array]",Ho="[object Int32Array]",Wo="[object Uint8Array]",Bo="[object Uint8ClampedArray]",zo="[object Uint16Array]",qo="[object Uint32Array]";function Vo(t,n,e){var r=t.constructor;switch(n){case xo:return ee(t);case Eo:case jo:return new r(+t);case Io:return _o(t,e);case No:case Fo:case Ro:case Uo:case Ho:case Wo:case Bo:case zo:case qo:return So(t,e);case Mo:return new r;case Ao:case Po:return new r(t);case Co:return Oo(t);case Lo:return new r;case Do:return To(t)}}function Yo(t){return typeof t.constructor=="function"&&!Mt(t)?Ar(Xt(t)):{}}var Go="[object Map]";function Ko(t){return G(t)&&Dt(t)==Go}var Ce=st&&st.isMap,ko=Ce?Qt(Ce):Ko;const Qo=ko;var Zo="[object Set]";function Jo(t){return G(t)&&Dt(t)==Zo}var Le=st&&st.isSet,Xo=Le?Qt(Le):Jo;const ta=Xo;var ea=1,na=2,ra=4,On="[object Arguments]",ia="[object Array]",sa="[object Boolean]",oa="[object Date]",aa="[object Error]",Tn="[object Function]",ca="[object GeneratorFunction]",ua="[object Map]",fa="[object Number]",Sn="[object Object]",la="[object RegExp]",ha="[object Set]",da="[object String]",pa="[object Symbol]",ga="[object WeakMap]",ya="[object ArrayBuffer]",ma="[object DataView]",va="[object Float32Array]",$a="[object Float64Array]",ba="[object Int8Array]",_a="[object Int16Array]",wa="[object Int32Array]",Oa="[object Uint8Array]",Ta="[object Uint8ClampedArray]",Sa="[object Uint16Array]",Ea="[object Uint32Array]",S={};S[On]=S[ia]=S[ya]=S[ma]=S[sa]=S[oa]=S[va]=S[$a]=S[ba]=S[_a]=S[wa]=S[ua]=S[fa]=S[Sn]=S[la]=S[ha]=S[da]=S[pa]=S[Oa]=S[Ta]=S[Sa]=S[Ea]=!0;S[aa]=S[Tn]=S[ga]=!1;function _t(t,n,e,r,i,s){var o,a=n&ea,c=n&na,u=n&ra;if(e&&(o=i?e(t,r,i,s):e(t)),o!==void 0)return o;if(!ot(t))return t;var y=K(t);if(y){if(o=$o(t),!a)return Cr(t,o)}else{var p=Dt(t),M=p==Tn||p==ca;if(kt(t))return Qs(t,a);if(p==Sn||p==On||M&&!i){if(o=c||M?{}:Yo(t),!a)return c?io(t,Ks(o,t)):eo(t,Gs(o,t))}else{if(!S[p])return i?t:{};o=Vo(t,p,a)}}s||(s=new at);var j=s.get(t);if(j)return j;s.set(t,o),ta(t)?t.forEach(function(O){o.add(_t(O,n,e,O,t,s))}):Qo(t)&&t.forEach(function(O,D){o.set(D,_t(O,n,e,D,t,s))});var L=u?c?oo:so:c?Ct:At,d=y?void 0:L(t);return Wr(d||t,function(O,D){d&&(D=O,O=t[D]),on(o,D,_t(O,n,e,D,t,s))}),o}var ja=1,Ma=4;function Aa(t){return _t(t,ja|Ma)}function Ca(t,n,e){n=Es(n,t);for(var r=-1,i=n.length,s=!1;++r<i;){var o=Ms(n[r]);if(!(s=t!=null&&e(t,o)))break;t=t[o]}return s||++r!=i?s:(i=t==null?0:t.length,!!i&&Gt(i)&&Yt(o,i)&&(K(t)||Kt(t)))}var La={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Pa=Hs(La);const Da=Pa;var En=/[&<>"']/g,xa=RegExp(En.source);function Ia(t){return t=Jt(t),t&&xa.test(t)?t.replace(En,Da):t}var Na=Object.prototype,Fa=Na.hasOwnProperty;function Ra(t,n){return t!=null&&Fa.call(t,n)}function Ua(t,n){return t!=null&&Ca(t,n,Ra)}function Ha(t,n){return Xe(n,function(e){return t[e]})}var Wa="[object Map]",Ba="[object Set]",za=Object.prototype,qa=za.hasOwnProperty;function jn(t){if(t==null)return!0;if(jt(t)&&(K(t)||typeof t=="string"||typeof t.splice=="function"||kt(t)||hn(t)||Kt(t)))return!t.length;var n=Dt(t);if(n==Wa||n==Ba)return!t.size;if(Mt(t))return!gn(t).length;for(var e in t)if(qa.call(t,e))return!1;return!0}var Mn=Object.prototype,Va=Mn.hasOwnProperty;function Pe(t,n,e,r){return t===void 0||Et(t,Mn[e])&&!Va.call(r,e)?n:t}var Ya={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};function Ga(t){return"\\"+Ya[t]}var Ka=/<%=([\s\S]+?)%>/g;const An=Ka;var ka=/<%-([\s\S]+?)%>/g;const Qa=ka;var Za=/<%([\s\S]+?)%>/g;const Ja=Za;var Xa={escape:Qa,evaluate:Ja,interpolate:An,variable:"",imports:{_:{escape:Ia}}};const De=Xa;var tc="Invalid `variable` option passed into `_.template`",ec=/\b__p \+= '';/g,nc=/\b(__p \+=) '' \+/g,rc=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ic=/[()=,{}\[\]\/\s]/,sc=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,vt=/($^)/,oc=/['\n\r\u2028\u2029\\]/g,ac=Object.prototype,xe=ac.hasOwnProperty;function cc(t,n,e){var r=De.imports._.templateSettings||De;e&&cn(t,n,e)&&(n=void 0),t=Jt(t),n=me({},n,r,Pe);var i=me({},n.imports,r.imports,Pe),s=At(i),o=Ha(i,s),a,c,u=0,y=n.interpolate||vt,p="__p += '",M=RegExp((n.escape||vt).source+"|"+y.source+"|"+(y===An?sc:vt).source+"|"+(n.evaluate||vt).source+"|$","g"),j=xe.call(n,"sourceURL")?"//# sourceURL="+(n.sourceURL+"").replace(/\s/g," ")+`
`:"";t.replace(M,function(O,D,F,I,Q,R){return F||(F=I),p+=t.slice(u,R).replace(oc,Ga),D&&(a=!0,p+=`' +
__e(`+D+`) +
'`),Q&&(c=!0,p+=`';
`+Q+`;
__p += '`),F&&(p+=`' +
((__t = (`+F+`)) == null ? '' : __t) +
'`),u=R+O.length,O}),p+=`';
`;var L=xe.call(n,"variable")&&n.variable;if(!L)p=`with (obj) {
`+p+`
}
`;else if(ic.test(L))throw new Error(tc);p=(c?p.replace(ec,""):p).replace(nc,"$1").replace(rc,"$1;"),p="function("+(L||"obj")+`) {
`+(L?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(a?", __e = _.escape":"")+(c?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+p+`return __p
}`;var d=Us(function(){return Function(s,j+"return "+p).apply(void 0,o)});if(d.source=p,vn(d))throw d;return d}var Cn={exports:{}};(function(t,n){(function(e,r){t.exports=r()})(We,function(){var e=1e3,r=6e4,i=36e5,s="millisecond",o="second",a="minute",c="hour",u="day",y="week",p="month",M="quarter",j="year",L="date",d="Invalid Date",O=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,D=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,F={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},I=function(b,h,f){var m=String(b);return!m||m.length>=h?b:""+Array(h+1-m.length).join(f)+b},Q={s:I,z:function(b){var h=-b.utcOffset(),f=Math.abs(h),m=Math.floor(f/60),l=f%60;return(h<=0?"+":"-")+I(m,2,"0")+":"+I(l,2,"0")},m:function b(h,f){if(h.date()<f.date())return-b(f,h);var m=12*(f.year()-h.year())+(f.month()-h.month()),l=h.clone().add(m,p),$=f-l<0,v=h.clone().add(m+($?-1:1),p);return+(-(m+(f-l)/($?l-v:v-l))||0)},a:function(b){return b<0?Math.ceil(b)||0:Math.floor(b)},p:function(b){return{M:p,y:j,w:y,d:u,D:L,h:c,m:a,s:o,ms:s,Q:M}[b]||String(b||"").toLowerCase().replace(/s$/,"")},u:function(b){return b===void 0}},R="en",U={};U[R]=F;var Z=function(b){return b instanceof yt},nt=function b(h,f,m){var l;if(!h)return R;if(typeof h=="string"){var $=h.toLowerCase();U[$]&&(l=$),f&&(U[$]=f,l=$);var v=h.split("-");if(!l&&v.length>1)return b(v[0])}else{var _=h.name;U[_]=h,l=_}return!m&&l&&(R=l),l||!m&&R},A=function(b,h){if(Z(b))return b.clone();var f=typeof h=="object"?h:{};return f.date=b,f.args=arguments,new yt(f)},T=Q;T.l=nt,T.i=Z,T.w=function(b,h){return A(b,{locale:h.$L,utc:h.$u,x:h.$x,$offset:h.$offset})};var yt=function(){function b(f){this.$L=nt(f.locale,null,!0),this.parse(f)}var h=b.prototype;return h.parse=function(f){this.$d=function(m){var l=m.date,$=m.utc;if(l===null)return new Date(NaN);if(T.u(l))return new Date;if(l instanceof Date)return new Date(l);if(typeof l=="string"&&!/Z$/i.test(l)){var v=l.match(O);if(v){var _=v[2]-1||0,P=(v[7]||"0").substring(0,3);return $?new Date(Date.UTC(v[1],_,v[3]||1,v[4]||0,v[5]||0,v[6]||0,P)):new Date(v[1],_,v[3]||1,v[4]||0,v[5]||0,v[6]||0,P)}}return new Date(l)}(f),this.$x=f.x||{},this.init()},h.init=function(){var f=this.$d;this.$y=f.getFullYear(),this.$M=f.getMonth(),this.$D=f.getDate(),this.$W=f.getDay(),this.$H=f.getHours(),this.$m=f.getMinutes(),this.$s=f.getSeconds(),this.$ms=f.getMilliseconds()},h.$utils=function(){return T},h.isValid=function(){return this.$d.toString()!==d},h.isSame=function(f,m){var l=A(f);return this.startOf(m)<=l&&l<=this.endOf(m)},h.isAfter=function(f,m){return A(f)<this.startOf(m)},h.isBefore=function(f,m){return this.endOf(m)<A(f)},h.$g=function(f,m,l){return T.u(f)?this[m]:this.set(l,f)},h.unix=function(){return Math.floor(this.valueOf()/1e3)},h.valueOf=function(){return this.$d.getTime()},h.startOf=function(f,m){var l=this,$=!!T.u(m)||m,v=T.p(f),_=function(rt,N){var q=T.w(l.$u?Date.UTC(l.$y,N,rt):new Date(l.$y,N,rt),l);return $?q:q.endOf(u)},P=function(rt,N){return T.w(l.toDate()[rt].apply(l.toDate("s"),($?[0,0,0,0]:[23,59,59,999]).slice(N)),l)},C=this.$W,x=this.$M,z=this.$D,W="set"+(this.$u?"UTC":"");switch(v){case j:return $?_(1,0):_(31,11);case p:return $?_(1,x):_(0,x+1);case y:var ct=this.$locale().weekStart||0,ut=(C<ct?C+7:C)-ct;return _($?z-ut:z+(6-ut),x);case u:case L:return P(W+"Hours",0);case c:return P(W+"Minutes",1);case a:return P(W+"Seconds",2);case o:return P(W+"Milliseconds",3);default:return this.clone()}},h.endOf=function(f){return this.startOf(f,!1)},h.$set=function(f,m){var l,$=T.p(f),v="set"+(this.$u?"UTC":""),_=(l={},l[u]=v+"Date",l[L]=v+"Date",l[p]=v+"Month",l[j]=v+"FullYear",l[c]=v+"Hours",l[a]=v+"Minutes",l[o]=v+"Seconds",l[s]=v+"Milliseconds",l)[$],P=$===u?this.$D+(m-this.$W):m;if($===p||$===j){var C=this.clone().set(L,1);C.$d[_](P),C.init(),this.$d=C.set(L,Math.min(this.$D,C.daysInMonth())).$d}else _&&this.$d[_](P);return this.init(),this},h.set=function(f,m){return this.clone().$set(f,m)},h.get=function(f){return this[T.p(f)]()},h.add=function(f,m){var l,$=this;f=Number(f);var v=T.p(m),_=function(x){var z=A($);return T.w(z.date(z.date()+Math.round(x*f)),$)};if(v===p)return this.set(p,this.$M+f);if(v===j)return this.set(j,this.$y+f);if(v===u)return _(1);if(v===y)return _(7);var P=(l={},l[a]=r,l[c]=i,l[o]=e,l)[v]||1,C=this.$d.getTime()+f*P;return T.w(C,this)},h.subtract=function(f,m){return this.add(-1*f,m)},h.format=function(f){var m=this,l=this.$locale();if(!this.isValid())return l.invalidDate||d;var $=f||"YYYY-MM-DDTHH:mm:ssZ",v=T.z(this),_=this.$H,P=this.$m,C=this.$M,x=l.weekdays,z=l.months,W=function(N,q,xt,mt){return N&&(N[q]||N(m,$))||xt[q].slice(0,mt)},ct=function(N){return T.s(_%12||12,N,"0")},ut=l.meridiem||function(N,q,xt){var mt=N<12?"AM":"PM";return xt?mt.toLowerCase():mt},rt={YY:String(this.$y).slice(-2),YYYY:this.$y,M:C+1,MM:T.s(C+1,2,"0"),MMM:W(l.monthsShort,C,z,3),MMMM:W(z,C),D:this.$D,DD:T.s(this.$D,2,"0"),d:String(this.$W),dd:W(l.weekdaysMin,this.$W,x,2),ddd:W(l.weekdaysShort,this.$W,x,3),dddd:x[this.$W],H:String(_),HH:T.s(_,2,"0"),h:ct(1),hh:ct(2),a:ut(_,P,!0),A:ut(_,P,!1),m:String(P),mm:T.s(P,2,"0"),s:String(this.$s),ss:T.s(this.$s,2,"0"),SSS:T.s(this.$ms,3,"0"),Z:v};return $.replace(D,function(N,q){return q||rt[N]||v.replace(":","")})},h.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},h.diff=function(f,m,l){var $,v=T.p(m),_=A(f),P=(_.utcOffset()-this.utcOffset())*r,C=this-_,x=T.m(this,_);return x=($={},$[j]=x/12,$[p]=x,$[M]=x/3,$[y]=(C-P)/6048e5,$[u]=(C-P)/864e5,$[c]=C/i,$[a]=C/r,$[o]=C/e,$)[v]||C,l?x:T.a(x)},h.daysInMonth=function(){return this.endOf(p).$D},h.$locale=function(){return U[this.$L]},h.locale=function(f,m){if(!f)return this.$L;var l=this.clone(),$=nt(f,m,!0);return $&&(l.$L=$),l},h.clone=function(){return T.w(this.$d,this)},h.toDate=function(){return new Date(this.valueOf())},h.toJSON=function(){return this.isValid()?this.toISOString():null},h.toISOString=function(){return this.$d.toISOString()},h.toString=function(){return this.$d.toUTCString()},b}(),ne=yt.prototype;return A.prototype=ne,[["$ms",s],["$s",o],["$m",a],["$H",c],["$W",u],["$M",p],["$y",j],["$D",L]].forEach(function(b){ne[b[1]]=function(h){return this.$g(h,b[0],b[1])}}),A.extend=function(b,h){return b.$i||(b(h,yt,A),b.$i=!0),A},A.locale=nt,A.isDayjs=Z,A.unix=function(b){return A(1e3*b)},A.en=U[R],A.Ls=U,A.p={},A})})(Cn);var uc=Cn.exports;const fc=Bt(uc);var Ln={exports:{}};(function(t,n){(function(e,r){t.exports=r()})(We,function(){var e="minute",r=/[+-]\d\d(?::?\d\d)?/g,i=/([+-]|\d\d)/g;return function(s,o,a){var c=o.prototype;a.utc=function(d){var O={date:d,utc:!0,args:arguments};return new o(O)},c.utc=function(d){var O=a(this.toDate(),{locale:this.$L,utc:!0});return d?O.add(this.utcOffset(),e):O},c.local=function(){return a(this.toDate(),{locale:this.$L,utc:!1})};var u=c.parse;c.parse=function(d){d.utc&&(this.$u=!0),this.$utils().u(d.$offset)||(this.$offset=d.$offset),u.call(this,d)};var y=c.init;c.init=function(){if(this.$u){var d=this.$d;this.$y=d.getUTCFullYear(),this.$M=d.getUTCMonth(),this.$D=d.getUTCDate(),this.$W=d.getUTCDay(),this.$H=d.getUTCHours(),this.$m=d.getUTCMinutes(),this.$s=d.getUTCSeconds(),this.$ms=d.getUTCMilliseconds()}else y.call(this)};var p=c.utcOffset;c.utcOffset=function(d,O){var D=this.$utils().u;if(D(d))return this.$u?0:D(this.$offset)?p.call(this):this.$offset;if(typeof d=="string"&&(d=function(R){R===void 0&&(R="");var U=R.match(r);if(!U)return null;var Z=(""+U[0]).match(i)||["-",0,0],nt=Z[0],A=60*+Z[1]+ +Z[2];return A===0?0:nt==="+"?A:-A}(d),d===null))return this;var F=Math.abs(d)<=16?60*d:d,I=this;if(O)return I.$offset=F,I.$u=d===0,I;if(d!==0){var Q=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(I=this.local().add(F+Q,e)).$offset=F,I.$x.$localOffset=Q}else I=this.utc();return I};var M=c.format;c.format=function(d){var O=d||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return M.call(this,O)},c.valueOf=function(){var d=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*d},c.isUTC=function(){return!!this.$u},c.toISOString=function(){return this.toDate().toISOString()},c.toString=function(){return this.toDate().toUTCString()};var j=c.toDate;c.toDate=function(d){return d==="s"&&this.$offset?a(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():j.call(this)};var L=c.diff;c.diff=function(d,O,D){if(d&&this.$u===d.$u)return L.call(this,d,O,D);var F=this.local(),I=a(d).local();return L.call(F,I,O,D)}}})})(Ln);var lc=Ln.exports;const hc=Bt(lc);var Wt=(t=>(t.COMP="comp",t.CODE="code",t))(Wt||{}),Pn=(t=>(t.CODE="code",t))(Pn||{});fc.extend(hc);const Fc=(t="")=>t.replace(/\B([A-Z])/g,"-$1").toLowerCase(),ht=(t,n=[])=>{const e=[],r=function(i,s){if(!Array.isArray(s))return null;for(let o=0,a=s.length;o<a;o++){const c=s[o];if(e.push(c),`${c.id}`==`${i}`)return c;if(c.items){const u=r(i,c.items);if(u)return u}e.pop()}return null};return r(t,n),e},dc=(t,n)=>{const e=t.split("."),r=e.length;return e.reduce((i,s,o)=>{if(Object.prototype.toString.call(i)==="[object Object]"||Array.isArray(i))return i[s];if(r-1!==o)return{}},n)},Ie=(t,n=[])=>{const e=[],r=function(i,s){if(Array.isArray(s))for(let o=0,a=s.length;o<a;o++){const c=s[o],u=i.findIndex(y=>`${y}`==`${c.id}`);u>-1&&(i.slice(u,1),e.push(c)),c.items&&r(i,c.items)}};return r(t,n),e},pc=(t={},n)=>Array.from(Object.values(t).reduce((e,r)=>{var i;return(((i=r[n])==null?void 0:i.keys)||[]).forEach(s=>e.add(s)),e},new Set)),gc=(t={})=>Array.from(Object.values(t).reduce((n,e)=>(Object.keys(e).forEach(r=>{n.add(r)}),n),new Set)),Dn=(t,n,e)=>{var a;const r=ht(t.id,n),i=r.pop();let s=r.pop();if(e&&(s=ht(e,n).pop()),!i)throw new Error("未找到目标节点");if(!s)throw new Error("未找到父节点");const o=(a=s.items)==null?void 0:a.findIndex(c=>c.id===i.id);s.items.splice(o,1,t)},xn=(t,n,e={},r)=>{let i=[];if(!r)i=pc(e,n.id);else{const o=e[r];i=(o==null?void 0:o[n.id].keys)||[]}const s="__magic__";return i.forEach(o=>{const a=`${o}`.split("."),c=a.length;a.reduce((u,y,p)=>{if(c-1===p){const M=`${s}${y}`;typeof u[M]>"u"&&(u[M]=u[y]);try{u[y]=t(u[M])}catch(j){console.error(j),u[y]=""}return u}return Object.prototype.toString.call(u)==="[object Object]"||Array.isArray(u)?u[y]:{}},n)}),Array.isArray(n.items)&&n.items.forEach(o=>xn(t,o,e)),n},In=t=>{const n={},e={string:"",object:{},array:[],boolean:!1,number:0,null:null,any:void 0};return t.forEach(r=>{typeof r.defaultValue<"u"?n[r.name]=r.defaultValue:r.type==="object"?n[r.name]=r.fields?In(r.fields):{}:r.type?n[r.name]=e[r.type]:n[r.name]=void 0}),n};class Nn extends Qe{constructor(e){super();g(this,"type","base");g(this,"id");g(this,"isInit",!1);g(this,"data",{});g(this,"fields",[]);this.id=e.schema.id,this.setFields(e.schema.fields),this.updateDefaultData()}setFields(e){this.fields=e}setData(e){this.data=e,this.emit("change")}getDefaultData(){return In(this.fields)}updateDefaultData(){this.setData(this.getDefaultData())}async init(){this.isInit=!0}destroy(){this.data={},this.fields=[],this.removeAllListeners()}}const Ne=t=>Object.entries(t).reduce((n,[e,r])=>{let i=r;return typeof r=="object"&&(i=JSON.stringify(r)),typeof r<"u"?`${n}${n?"&":""}${globalThis.encodeURIComponent(e)}=${globalThis.encodeURIComponent(`${i}`)}`:n},""),yc=async t=>{var y;const{url:n,method:e="GET",headers:r={},params:i={},data:s={},...o}=t,a=Ne(i);let c=JSON.stringify(s);return(y=r["Content-Type"])!=null&&y.includes("application/x-www-form-urlencoded")&&(c=Ne(s)),(await globalThis.fetch(a?`${n}?${a}`:n,{method:e,headers:r,body:e==="GET"?void 0:c,...o})).json()};class mc extends Nn{constructor(e){const{options:r,...i}=e.schema;super({schema:i});g(this,"type","http");g(this,"isLoading",!1);g(this,"error");g(this,"schema");g(this,"httpOptions");g(this,"fetch");this.schema=e.schema,this.httpOptions=r,typeof e.request=="function"?this.fetch=e.request:typeof globalThis.fetch=="function"&&(this.fetch=yc)}async init(){this.schema.autoFetch&&await this.request(this.httpOptions),super.init()}async request(e){var i,s;const r=await((i=this.fetch)==null?void 0:i.call(this,{...this.httpOptions,...e}));if((s=this.schema.responseOptions)!=null&&s.dataPath){const o=dc(this.schema.responseOptions.dataPath,r);this.setData(o)}else this.setData(r)}get(e){return this.request({...e,method:"GET"})}post(e){return this.request({...e,method:"POST"})}}const Tt=class extends Qe{constructor(e){var r;super();g(this,"dataSourceMap",new Map);g(this,"data",{});g(this,"request");(r=e.httpDataSourceOptions)!=null&&r.request&&(this.request=e.httpDataSourceOptions.request),e.dataSourceConfigs.forEach(i=>{this.addDataSource(i)})}static registe(e,r){Tt.dataSourceClassMap.set(e,r)}get(e){return this.dataSourceMap.get(e)}addDataSource(e){if(!e)return;let r;if(e.type==="http")r=new mc({schema:e,request:this.request});else{const i=Tt.dataSourceClassMap.get(e.type)||Nn;r=new i({schema:e})}this.dataSourceMap.set(e.id,r),this.data[r.id]=r.data,r.init().then(()=>{this.data[r.id]=r.data}),r.on("change",()=>{Object.assign(this.data[r.id],r.data),this.emit("change",r.id)})}removeDataSource(e){var r;(r=this.get(e))==null||r.destroy(),delete this.data[e],this.dataSourceMap.delete(e)}updateSchema(e){e.forEach(r=>{const i=this.dataSourceMap.get(r.id);i&&(i.setFields(r.fields),i.updateDefaultData(),this.data[i.id]=i.data)})}destroy(){this.removeAllListeners(),this.data={},this.dataSourceMap.forEach(e=>{e.destroy()}),this.dataSourceMap=new Map}};let wt=Tt;g(wt,"dataSourceClassMap",new Map);const vc=wt,$c=(t,n=(r,i)=>r,e)=>{if(!(t!=null&&t.dataSources))return;const r=new vc({dataSourceConfigs:t.dataSources,httpDataSourceOptions:e});return t.dataSources&&t.dataSourceDeps&&Ie(gc(t.dataSourceDeps),t.items).forEach(i=>{Dn(n(i,r.data),t.items)}),r.on("change",i=>{var o;const s=(o=t.dataSourceDeps)==null?void 0:o[i];s&&r.emit("update-data",Ie(Object.keys(s),t.items),i)}),r};class bc{constructor(n=globalThis.navigator.userAgent,e={}){g(this,"isIos",!1);g(this,"isIphone",!1);g(this,"isIpad",!1);g(this,"isAndroid",!1);g(this,"isAndroidPad",!1);g(this,"isMac",!1);g(this,"isWin",!1);g(this,"isMqq",!1);g(this,"isWechat",!1);g(this,"isWeb",!1);this.isIphone=n.indexOf("iPhone")>=0,this.isIpad=/(iPad).*OS\s([\d_]+)/.test(n),this.isIos=this.isIphone||this.isIpad,this.isAndroid=n.indexOf("Android")>=0,this.isAndroidPad=this.isAndroid&&n.indexOf("Mobile")<0,this.isMac=n.indexOf("Macintosh")>=0,this.isWin=n.indexOf("Windows")>=0,this.isMqq=/QQ\/([\d.]+)/.test(n),this.isWechat=n.indexOf("MicroMessenger")>=0&&n.indexOf("wxwork")<0,this.isWeb=!this.isIos&&!this.isAndroid&&!/(WebOS|BlackBerry)/.test(n),Object.entries(e).forEach(([r,i])=>{this[r]=i})}}const Fe=bc,Re="magic:common:events:",Fn="magic:common:actions:",$t={SHOW:"show",HIDE:"hide",SCROLL_TO_VIEW:"scrollIntoView",SCROLL_TO_TOP:"scrollToTop"},_c=t=>t.startsWith(Re)?t:`${Re}${t}`,wc=t=>t.startsWith(Fn),Rn=(t,n)=>{var r;if(!t)return!1;if(!t.id)return Rn(t.parentElement,n);const e=(r=n.page)==null?void 0:r.getNode(t.id);return e||!1},Ue=(t,n,e)=>{const r=Rn(e.target,t);r&&t.emit(_c(n),r)},Oc=t=>{t.jsEngine==="browser"&&(window.document.body.addEventListener("click",n=>{Ue(t,"click",n)}),window.document.body.addEventListener("click",n=>{Ue(t,"click:capture",n)},!0))},Tc=(t,n)=>{var r;const{instance:e}=n;if(e)switch(t.replace(Fn,"")){case $t.SHOW:e.show();break;case $t.HIDE:e.hide();break;case $t.SCROLL_TO_VIEW:(r=e.$el)==null||r.scrollIntoView({behavior:"smooth"});break;case $t.SCROLL_TO_TOP:window.scrollTo({top:0,behavior:"smooth"});break}};class Sc{constructor(){g(this,"data",{})}set(n,e){this.data[n]=e}get(n){return this.data[n]}}class Ec extends qt.EventEmitter{constructor(e){super();g(this,"data");g(this,"style");g(this,"events");g(this,"instance");g(this,"page");g(this,"parent");g(this,"app");g(this,"store",new Sc);this.page=e.page,this.parent=e.parent,this.app=e.app;const{events:r}=e.config;this.data=e.config,this.events=r||[],this.listenLifeSafe(),this.once("destroy",()=>{this.instance=null,typeof this.data.destroy=="function"&&this.data.destroy(this),this.listenLifeSafe()})}setData(e){this.data=e,this.emit("updata-data")}destroy(){this.removeAllListeners()}listenLifeSafe(){this.once("created",async e=>{this.instance=e,await this.runCodeBlock("created")}),this.once("mounted",async e=>{this.instance=e;const r=this.app.eventQueueMap[e.config.id]||[];for(let i=r.shift();i;i=r.shift())this.app.compActionHandler(i.eventConfig,i.fromCpt,i.args);await this.runCodeBlock("mounted")})}async runCodeBlock(e){var r,i;if(typeof this.data[e]=="function"){await this.data[e](this);return}if(!(((r=this.data[e])==null?void 0:r.hookType)!==Pn.CODE||jn(this.app.codeDsl)))for(const s of this.data[e].hookData){const{codeId:o,params:a={}}=s;this.app.codeDsl[o]&&typeof((i=this.app.codeDsl[o])==null?void 0:i.content)=="function"&&await this.app.codeDsl[o].content({app:this.app,params:a})}}}const He=Ec;class jc extends He{constructor(e){super(e);g(this,"nodes",new Map);this.setNode(e.config.id,this),this.initNode(e.config,this)}initNode(e,r){var s;const i=new He({config:e,parent:r,page:this,app:this.app});this.setNode(e.id,i),(s=e.items)==null||s.forEach(o=>{this.initNode(o,i)})}getNode(e){return this.nodes.get(e)}setNode(e,r){this.nodes.set(e,r)}deleteNode(e){this.nodes.delete(e)}destroy(){super.destroy(),this.nodes.clear()}}const Mc=jc,Ac=t=>{if(typeof t!="string")return t;const n={};return t.split(";").forEach(e=>{if(!e)return;const r=e.split(":");let i=r.shift(),s=r.join(":");i&&(i=i.replace(/^\s*/,"").replace(/\s*$/,""),s=s.replace(/^\s*/,"").replace(/\s*$/,""),i=i.split("-").map((o,a)=>a>0?`${o[0].toUpperCase()}${o.substr(1)}`:o).join(""),n[i]=s)}),n},Cc=t=>t&&!/^url/.test(t)&&!/^linear-gradient/.test(t)?`url(${t})`:t,Lc=t=>/^(-?\d+)(\.\d+)?$/.test(t);class Pc extends qt.EventEmitter{constructor(e){var r;super();g(this,"env",new Fe);g(this,"dsl");g(this,"codeDsl");g(this,"dataSourceManager");g(this,"page");g(this,"platform","mobile");g(this,"jsEngine","browser");g(this,"designWidth",375);g(this,"components",new Map);g(this,"eventQueueMap",{});g(this,"eventList",new Map);this.setEnv(e.ua),this.codeDsl=(r=e.config)==null?void 0:r.codeBlocks,e.platform&&(this.platform=e.platform),e.jsEngine&&(this.jsEngine=e.jsEngine),typeof e.designWidth<"u"&&this.setDesignWidth(e.designWidth),e.transformStyle&&(this.transformStyle=e.transformStyle),e.config&&this.setConfig(e.config,e.curPage,e.request),Oc(this)}setEnv(e){this.env=new Fe(e)}setDesignWidth(e){this.designWidth=e,this.jsEngine==="browser"&&(this.calcFontsize(),globalThis.removeEventListener("resize",this.calcFontsize),globalThis.addEventListener("resize",this.calcFontsize))}transformStyle(e){if(!e)return{};let r={};const i={};typeof e=="string"?r=Ac(e):r={...e};const s=this.jsEngine==="hippy",o=["zIndex","opacity","fontWeight"];return Object.entries(r).forEach(([a,c])=>{a==="scale"&&!i.transform&&s?i.transform=[{scale:c}]:a==="backgroundImage"&&!s?c&&(i[a]=Cc(c)):a==="transform"&&typeof c!="string"?i[a]=this.getTransform(c):!o.includes(a)&&c&&/^[-]?[0-9]*[.]?[0-9]*$/.test(c)?i[a]=s?c:`${c/100}rem`:i[a]=c}),i}setConfig(e,r,i){var s,o;this.dsl=e,!r&&e.items.length&&(r=e.items[0].id),this.dataSourceManager&&this.dataSourceManager.destroy(),this.dataSourceManager=$c(e,(a,c)=>this.compiledNode(a,c),{request:i}),this.codeDsl=e.codeBlocks,this.setPage(r||((o=(s=this.page)==null?void 0:s.data)==null?void 0:o.id))}addPage(){console.info("addPage 已经弃用")}setPage(e){var i,s;const r=(i=this.dsl)==null?void 0:i.items.find(o=>o.id===e);if(!r){this.page&&(this.page.destroy(),this.page=void 0),super.emit("page-change");return}r!==((s=this.page)==null?void 0:s.data)&&(this.page&&this.page.destroy(),this.page=new Mc({config:r,app:this}),super.emit("page-change",this.page),this.bindEvents())}deletePage(){this.page=void 0}getPage(e){var r;if(!e)return this.page;if(((r=this.page)==null?void 0:r.data.id)===e)return this.page}registerComponent(e,r){this.components.set(e,r)}unregisterComponent(e){this.components.delete(e)}resolveComponent(e){return this.components.get(e)}bindEvents(){var e;if(Array.from(this.eventList.keys()).forEach(r=>{const i=this.eventList.get(r);i&&this.off(i,r)}),this.eventList.clear(),!!this.page)for(const[,r]of this.page.nodes)(e=r.events)==null||e.forEach(i=>{const s=`${i.name}_${r.data.id}`,o=(a,...c)=>{this.eventHandler(i,a,c)};this.eventList.set(o,s),this.on(s,o)})}emit(e,r,...i){var s;return(s=r==null?void 0:r.data)!=null&&s.id?super.emit(`${String(e)}_${r.data.id}`,r,...i):super.emit(e,r,...i)}async codeActionHandler(e){var s;const{codeId:r="",params:i={}}=e;!r||jn(this.codeDsl)||this.codeDsl[r]&&typeof((s=this.codeDsl[r])==null?void 0:s.content)=="function"&&await this.codeDsl[r].content({app:this,params:i})}async compActionHandler(e,r,i){if(!this.page)throw new Error("当前没有页面");const{method:s,to:o}=e,a=this.page.getNode(o);if(!a)throw`ID为${o}的组件不存在`;if(wc(s))return Tc(s,a);a.instance?typeof a.instance[s]=="function"&&await a.instance[s](r,...i):this.addEventToMap({eventConfig:e,fromCpt:r,args:i})}compiledNode(e,r,i){var s;return xn(o=>typeof o=="string"?cc(o)(r):o!=null&&o.isBindDataSource&&o.dataSourceId?r[o.dataSourceId]:o,Aa(e),(s=this.dsl)==null?void 0:s.dataSourceDeps,i)}destroy(){this.removeAllListeners(),this.page=void 0,this.jsEngine==="browser"&&globalThis.removeEventListener("resize",this.calcFontsize)}async eventHandler(e,r,i){if(Ua(e,"actions")){const{actions:s}=e;for(const o of s)o.actionType===Wt.COMP?await this.compActionHandler(o,r,i):o.actionType===Wt.CODE&&await this.codeActionHandler(o)}else await this.compActionHandler(e,r,i)}addEventToMap(e){this.eventQueueMap[e.eventConfig.to]?this.eventQueueMap[e.eventConfig.to].push(e):this.eventQueueMap[e.eventConfig.to]=[e]}getTransform(e){if(!e)return[];const r=Object.entries(e).map(([s,o])=>o.trim()?(s==="rotate"&&Lc(o)&&(o=`${o}deg`),this.jsEngine!=="hippy"?`${s}(${o})`:{[s]:o}):"");if(this.jsEngine==="hippy")return r;const i=r.join(" ");return i.trim()?i:"none"}calcFontsize(){const{width:e}=document.documentElement.getBoundingClientRect(),r=e/(this.designWidth/100);document.documentElement.style.fontSize=`${r}px`}}const Dc=Pc,xc=Vue.defineComponent({__name:"App",setup(t){var o;const n=Vue.inject("app"),e=Vue.ref(),r=Vue.ref(),i=Vue.ref(),s=Vue.computed(()=>{var a,c,u,y;return((c=(a=e.value)==null?void 0:a.items)==null?void 0:c.find(p=>p.id===r.value))||((y=(u=e.value)==null?void 0:u.items)==null?void 0:y[0])});return Vue.watch(s,async()=>{await Vue.nextTick();const a=document.querySelector(".magic-ui-page");a&&window.magic.onPageElUpdate(a)}),(o=window.magic)==null||o.onRuntimeReady({getApp(){return n},updateRootConfig(a){e.value=a,n==null||n.setConfig(a,r.value)},updatePageId(a){r.value=a,n==null||n.setPage(a)},select(a){var u;i.value=a,n!=null&&n.getPage(a)&&((u=this.updatePageId)==null||u.call(this,a));const c=document.getElementById(`${a}`);return c||Vue.nextTick().then(()=>document.getElementById(`${a}`))},add({config:a,parentId:c}){var y,p,M,j,L;if(!e.value)throw new Error("error");if(!i.value)throw new Error("error");if(!c)throw new Error("error");const u=ht(c,[e.value]).pop();if(!u)throw new Error("未找到父节点");if(a.type!=="page"){const d=(y=n==null?void 0:n.page)==null?void 0:y.getNode(u.id);d&&((p=n==null?void 0:n.page)==null||p.initNode(a,d))}if(u.id!==i.value){const d=(M=u.items)==null?void 0:M.findIndex(O=>O.id===i.value);(j=u.items)==null||j.splice(d+1,0,a)}else(L=u.items)==null||L.push(a)},update({config:a,parentId:c}){var p,M;if(!e.value||!n)throw new Error("error");const u=n.compiledNode(a,((p=n.dataSourceManager)==null?void 0:p.data)||{});Dn(Vue.reactive(u),[e.value],c);const y=(M=n.page)==null?void 0:M.getNode(a.id);y&&y.setData(a)},remove({id:a,parentId:c}){var M,j;if(!e.value)throw new Error("error");const u=ht(a,[e.value]).pop();if(!u)throw new Error("未找到目标元素");const y=ht(c,[e.value]).pop();if(!y)throw new Error("未找到父元素");u.type==="page"?n==null||n.deletePage():(M=n==null?void 0:n.page)==null||M.deleteNode(u.id);const p=(j=y.items)==null?void 0:j.findIndex(L=>L.id===u.id);y.items.splice(p,1)}}),(a,c)=>{const u=Vue.resolveComponent("magic-ui-page");return s.value?(Vue.openBlock(),Vue.createBlock(u,{key:s.value.id,config:s.value},null,8,["config"])):Vue.createCommentVNode("",!0)}}});Promise.all([ie(()=>import("./comp-entry-74f8d581.js"),[]),ie(()=>import("./plugin-entry-024afdea.js"),[])]).then(([t,n])=>{const e=Vue.createApp(xc);Object.entries(t.default).forEach(([i,s])=>{e.component(`magic-ui-${i}`,s)}),Object.values(n.default).forEach(i=>{e.use(i)});const r=new Dc({ua:window.navigator.userAgent,platform:"editor"});r.env.isWeb&&r.setDesignWidth(window.document.documentElement.getBoundingClientRect().width),window.appInstance=r,e.config.globalProperties.app=r,e.provide("app",r),e.mount("#app")});export{Nc as __vite_legacy_guard,Fc as t};
//# sourceMappingURL=index-d37b8406.js.map
