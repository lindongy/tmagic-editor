System.register([],(function(t,e){"use strict";var n=document.createElement("style");return n.textContent='html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td,article,aside,canvas,details,embed,figure,figcaption,footer,header,hgroup,menu,nav,output,ruby,section,summary,time,mark,audio,video{margin:0;padding:0;border:0;font-size:100%;font:inherit;vertical-align:baseline}:focus{outline:0}article,aside,details,figcaption,figure,footer,header,hgroup,menu,nav,section{display:block}body{line-height:1}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:before,blockquote:after,q:before,q:after{content:"";content:none}input[type=search]::-webkit-search-cancel-button,input[type=search]::-webkit-search-decoration,input[type=search]::-webkit-search-results-button,input[type=search]::-webkit-search-results-decoration{-webkit-appearance:none;-moz-appearance:none}input[type=search]{-webkit-appearance:none;-moz-appearance:none;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box}textarea{overflow:auto;vertical-align:top;resize:vertical}audio,canvas,video{display:inline-block;*display: inline; *zoom: 1; max-width: 100%;{}}audio:not([controls]){display:none;height:0}[hidden]{display:none}html{font-size:100%;-webkit-text-size-adjust:100%;-ms-text-size-adjust:100%}a:focus{outline:thin dotted}a:active,a:hover{outline:0}img{border:0;-ms-interpolation-mode:bicubic}figure{margin:0}form{margin:0}fieldset{border:1px solid #c0c0c0;margin:0 2px;padding:.35em .625em .75em}legend{border:0;padding:0;white-space:normal;*margin-left: -7px;{}}button,input,select,textarea{font-size:100%;margin:0;vertical-align:baseline;*vertical-align: middle;{}}button,input{line-height:normal}button,select{text-transform:none}button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer;*overflow: visible;{}}button[disabled],html input[disabled]{cursor:default}input[type=checkbox],input[type=radio]{box-sizing:border-box;padding:0;*height: 13px; *width: 13px;{}}input[type=search]{-webkit-appearance:textfield;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box}input[type=search]::-webkit-search-cancel-button,input[type=search]::-webkit-search-decoration{-webkit-appearance:none}button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}textarea{overflow:auto;vertical-align:top}table{border-collapse:collapse;border-spacing:0}html,button,input,select,textarea{color:#222}::-moz-selection{background:#b3d4fc;text-shadow:none}::selection{background:#b3d4fc;text-shadow:none}img{vertical-align:middle}fieldset{border:0;margin:0;padding:0}textarea{resize:vertical}.chromeframe{margin:.2em 0;background:#ccc;color:#000;padding:.2em 0}\n',document.head.appendChild(n),{execute:function(){const n=function(t,e,n){return t()};function r(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var i,o={exports:{}},s="object"==typeof Reflect?Reflect:null,a=s&&"function"==typeof s.apply?s.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};i=s&&"function"==typeof s.ownKeys?s.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var c=Number.isNaN||function(t){return t!=t};function u(){u.init.call(this)}o.exports=u,o.exports.once=function(t,e){return new Promise((function(n,r){function i(n){t.removeListener(e,o),r(n)}function o(){"function"==typeof t.removeListener&&t.removeListener("error",i),n([].slice.call(arguments))}m(t,e,o,{once:!0}),"error"!==e&&function(t,e,n){"function"==typeof t.on&&m(t,"error",e,n)}(t,i,{once:!0})}))},u.EventEmitter=u,u.prototype._events=void 0,u.prototype._eventsCount=0,u.prototype._maxListeners=void 0;var f=10;function l(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function h(t){return void 0===t._maxListeners?u.defaultMaxListeners:t._maxListeners}function p(t,e,n,r){var i,o,s,a;if(l(n),void 0===(o=t._events)?(o=t._events=Object.create(null),t._eventsCount=0):(void 0!==o.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),o=t._events),s=o[e]),void 0===s)s=o[e]=n,++t._eventsCount;else if("function"==typeof s?s=o[e]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(i=h(t))>0&&s.length>i&&!s.warned){s.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=t,c.type=e,c.count=s.length,a=c,console&&console.warn&&console.warn(a)}return t}function d(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function v(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},i=d.bind(r);return i.listener=n,r.wrapFn=i,i}function g(t,e,n){var r=t._events;if(void 0===r)return[];var i=r[e];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(i):b(i,i.length)}function y(t){var e=this._events;if(void 0!==e){var n=e[t];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function b(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function m(t,e,n,r){if("function"==typeof t.on)r.once?t.once(e,n):t.on(e,n);else{if("function"!=typeof t.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(e,(function i(o){r.once&&t.removeEventListener(e,i),n(o)}))}}Object.defineProperty(u,"defaultMaxListeners",{enumerable:!0,get:function(){return f},set:function(t){if("number"!=typeof t||t<0||c(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");f=t}}),u.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},u.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||c(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},u.prototype.getMaxListeners=function(){return h(this)},u.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var r="error"===t,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var o;if(e.length>0&&(o=e[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var c=i[t];if(void 0===c)return!1;if("function"==typeof c)a(c,this,e);else{var u=c.length,f=b(c,u);for(n=0;n<u;++n)a(f[n],this,e)}return!0},u.prototype.addListener=function(t,e){return p(this,t,e,!1)},u.prototype.on=u.prototype.addListener,u.prototype.prependListener=function(t,e){return p(this,t,e,!0)},u.prototype.once=function(t,e){return l(e),this.on(t,v(this,t,e)),this},u.prototype.prependOnceListener=function(t,e){return l(e),this.prependListener(t,v(this,t,e)),this},u.prototype.removeListener=function(t,e){var n,r,i,o,s;if(l(e),void 0===(r=this._events))return this;if(void 0===(n=r[t]))return this;if(n===e||n.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===e||n[o].listener===e){s=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(n,i),1===n.length&&(r[t]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",t,s||e)}return this},u.prototype.off=u.prototype.removeListener,u.prototype.removeAllListeners=function(t){var e,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(r=e.length-1;r>=0;r--)this.removeListener(t,e[r]);return this},u.prototype.listeners=function(t){return g(this,t,!0)},u.prototype.rawListeners=function(t){return g(this,t,!1)},u.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):y.call(t,e)},u.prototype.listenerCount=y,u.prototype.eventNames=function(){return this._eventsCount>0?i(this._events):[]};var w=o.exports;const j=r(w),_="object"==typeof global&&global&&global.Object===Object&&global;var $="object"==typeof self&&self&&self.Object===Object&&self;const O=_||$||Function("return this")(),S=O.Symbol;var x=Object.prototype,M=x.hasOwnProperty,D=x.toString,E=S?S.toStringTag:void 0,A=Object.prototype.toString,C=S?S.toStringTag:void 0;function L(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":C&&C in Object(t)?function(t){var e=M.call(t,E),n=t[E];try{t[E]=void 0;var r=!0}catch(o){}var i=D.call(t);return r&&(e?t[E]=n:delete t[E]),i}(t):function(t){return A.call(t)}(t)}function k(t){return null!=t&&"object"==typeof t}function T(t){return"symbol"==typeof t||k(t)&&"[object Symbol]"==L(t)}function z(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}const I=Array.isArray;var P=S?S.prototype:void 0,U=P?P.toString:void 0;function F(t){if("string"==typeof t)return t;if(I(t))return z(t,F)+"";if(T(t))return U?U.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function N(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function W(t){return t}function q(t){if(!N(t))return!1;var e=L(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}const V=O["__core-js_shared__"];var B,H=(B=/[^.]+$/.exec(V&&V.keys&&V.keys.IE_PROTO||""))?"Symbol(src)_1."+B:"",R=Function.prototype.toString;function Y(t){if(null!=t){try{return R.call(t)}catch(e){}try{return t+""}catch(e){}}return""}var Q=/^\[object .+?Constructor\]$/,J=Function.prototype,Z=Object.prototype,G=J.toString,K=Z.hasOwnProperty,X=RegExp("^"+G.call(K).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function tt(t){return!(!N(t)||(e=t,H&&H in e))&&(q(t)?X:Q).test(Y(t));var e}function et(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return tt(n)?n:void 0}const nt=et(O,"WeakMap");var rt=Object.create,it=function(){function t(){}return function(e){if(!N(e))return{};if(rt)return rt(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();const ot=it;function st(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var at=Date.now,ct=function(){try{var t=et(Object,"defineProperty");return t({},"",{}),t}catch(e){}}();const ut=ct;var ft,lt,ht,pt=ut?function(t,e){return ut(t,"toString",{configurable:!0,enumerable:!1,value:(n=e,function(){return n}),writable:!0});var n}:W,dt=(ft=pt,lt=0,ht=0,function(){var t=at(),e=16-(t-ht);if(ht=t,e>0){if(++lt>=800)return arguments[0]}else lt=0;return ft.apply(void 0,arguments)});const vt=dt;var gt=/^(?:0|[1-9]\d*)$/;function yt(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&gt.test(t))&&t>-1&&t%1==0&&t<e}function bt(t,e,n){"__proto__"==e&&ut?ut(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function mt(t,e){return t===e||t!=t&&e!=e}var wt=Object.prototype.hasOwnProperty;function jt(t,e,n){var r=t[e];wt.call(t,e)&&mt(r,n)&&(void 0!==n||e in t)||bt(t,e,n)}function _t(t,e,n,r){var i=!n;n||(n={});for(var o=-1,s=e.length;++o<s;){var a=e[o],c=r?r(n[a],t[a],a,n,t):void 0;void 0===c&&(c=t[a]),i?bt(n,a,c):jt(n,a,c)}return n}var $t=Math.max;function Ot(t,e){return vt(function(t,e,n){return e=$t(void 0===e?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=$t(r.length-e,0),s=Array(o);++i<o;)s[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(s),st(t,this,a)}}(t,e,W),t+"")}function St(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}function xt(t){return null!=t&&St(t.length)&&!q(t)}function Mt(t,e,n){if(!N(n))return!1;var r=typeof e;return!!("number"==r?xt(n)&&yt(e,n.length):"string"==r&&e in n)&&mt(n[e],t)}var Dt=Object.prototype;function Et(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Dt)}function At(t){return k(t)&&"[object Arguments]"==L(t)}var Ct=Object.prototype,Lt=Ct.hasOwnProperty,kt=Ct.propertyIsEnumerable,Tt=At(function(){return arguments}())?At:function(t){return k(t)&&Lt.call(t,"callee")&&!kt.call(t,"callee")};const zt=Tt;var It="object"==typeof t&&t&&!t.nodeType&&t,Pt=It&&"object"==typeof e&&e&&!e.nodeType&&e,Ut=Pt&&Pt.exports===It?O.Buffer:void 0;const Ft=(Ut?Ut.isBuffer:void 0)||function(){return!1};var Nt={};function Wt(t){return function(e){return t(e)}}Nt["[object Float32Array]"]=Nt["[object Float64Array]"]=Nt["[object Int8Array]"]=Nt["[object Int16Array]"]=Nt["[object Int32Array]"]=Nt["[object Uint8Array]"]=Nt["[object Uint8ClampedArray]"]=Nt["[object Uint16Array]"]=Nt["[object Uint32Array]"]=!0,Nt["[object Arguments]"]=Nt["[object Array]"]=Nt["[object ArrayBuffer]"]=Nt["[object Boolean]"]=Nt["[object DataView]"]=Nt["[object Date]"]=Nt["[object Error]"]=Nt["[object Function]"]=Nt["[object Map]"]=Nt["[object Number]"]=Nt["[object Object]"]=Nt["[object RegExp]"]=Nt["[object Set]"]=Nt["[object String]"]=Nt["[object WeakMap]"]=!1;var qt="object"==typeof t&&t&&!t.nodeType&&t,Vt=qt&&"object"==typeof e&&e&&!e.nodeType&&e,Bt=Vt&&Vt.exports===qt&&_.process;const Ht=function(){try{var t=Vt&&Vt.require&&Vt.require("util").types;return t||Bt&&Bt.binding&&Bt.binding("util")}catch(e){}}();var Rt=Ht&&Ht.isTypedArray;const Yt=Rt?Wt(Rt):function(t){return k(t)&&St(t.length)&&!!Nt[L(t)]};var Qt=Object.prototype.hasOwnProperty;function Jt(t,e){var n=I(t),r=!n&&zt(t),i=!n&&!r&&Ft(t),o=!n&&!r&&!i&&Yt(t),s=n||r||i||o,a=s?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],c=a.length;for(var u in t)!e&&!Qt.call(t,u)||s&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||yt(u,c))||a.push(u);return a}function Zt(t,e){return function(n){return t(e(n))}}const Gt=Zt(Object.keys,Object);var Kt=Object.prototype.hasOwnProperty;function Xt(t){if(!Et(t))return Gt(t);var e=[];for(var n in Object(t))Kt.call(t,n)&&"constructor"!=n&&e.push(n);return e}function te(t){return xt(t)?Jt(t):Xt(t)}var ee=Object.prototype.hasOwnProperty;function ne(t){if(!N(t))return function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}(t);var e=Et(t),n=[];for(var r in t)("constructor"!=r||!e&&ee.call(t,r))&&n.push(r);return n}function re(t){return xt(t)?Jt(t,!0):ne(t)}var ie,oe=(ie=function(t,e,n,r){_t(e,re(e),t,r)},Ot((function(t,e){var n=-1,r=e.length,i=r>1?e[r-1]:void 0,o=r>2?e[2]:void 0;for(i=ie.length>3&&"function"==typeof i?(r--,i):void 0,o&&Mt(e[0],e[1],o)&&(i=r<3?void 0:i,r=1),t=Object(t);++n<r;){var s=e[n];s&&ie(t,s,n,i)}return t})));const se=oe;var ae=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ce=/^\w*$/;const ue=et(Object,"create");var fe=Object.prototype.hasOwnProperty,le=Object.prototype.hasOwnProperty;function he(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function pe(t,e){for(var n=t.length;n--;)if(mt(t[n][0],e))return n;return-1}he.prototype.clear=function(){this.__data__=ue?ue(null):{},this.size=0},he.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},he.prototype.get=function(t){var e=this.__data__;if(ue){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return fe.call(e,t)?e[t]:void 0},he.prototype.has=function(t){var e=this.__data__;return ue?void 0!==e[t]:le.call(e,t)},he.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=ue&&void 0===e?"__lodash_hash_undefined__":e,this};var de=Array.prototype.splice;function ve(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ve.prototype.clear=function(){this.__data__=[],this.size=0},ve.prototype.delete=function(t){var e=this.__data__,n=pe(e,t);return!(n<0||(n==e.length-1?e.pop():de.call(e,n,1),--this.size,0))},ve.prototype.get=function(t){var e=this.__data__,n=pe(e,t);return n<0?void 0:e[n][1]},ve.prototype.has=function(t){return pe(this.__data__,t)>-1},ve.prototype.set=function(t,e){var n=this.__data__,r=pe(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};const ge=et(O,"Map");function ye(t,e){var n,r,i=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map}function be(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function me(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(me.Cache||be),n}be.prototype.clear=function(){this.size=0,this.__data__={hash:new he,map:new(ge||ve),string:new he}},be.prototype.delete=function(t){var e=ye(this,t).delete(t);return this.size-=e?1:0,e},be.prototype.get=function(t){return ye(this,t).get(t)},be.prototype.has=function(t){return ye(this,t).has(t)},be.prototype.set=function(t,e){var n=ye(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},me.Cache=be;var we=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,je=/\\(\\)?/g,_e=function(t){var e=me(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(we,(function(t,n,r,i){e.push(r?i.replace(je,"$1"):n||t)})),e}));const $e=_e;function Oe(t){return null==t?"":F(t)}function Se(t,e){return I(t)?t:function(t,e){if(I(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!T(t))||ce.test(t)||!ae.test(t)||null!=e&&t in Object(e)}(t,e)?[t]:$e(Oe(t))}function xe(t){if("string"==typeof t||T(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Me(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}const De=Zt(Object.getPrototypeOf,Object);var Ee=Function.prototype,Ae=Object.prototype,Ce=Ee.toString,Le=Ae.hasOwnProperty,ke=Ce.call(Object);function Te(t){if(!k(t))return!1;var e=L(t);return"[object Error]"==e||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!function(t){if(!k(t)||"[object Object]"!=L(t))return!1;var e=De(t);if(null===e)return!0;var n=Le.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&Ce.call(n)==ke}(t)}var ze=Ot((function(t,e){try{return st(t,void 0,e)}catch(n){return Te(n)?n:new Error(n)}}));const Ie=ze;function Pe(t){var e=this.__data__=new ve(t);this.size=e.size}Pe.prototype.clear=function(){this.__data__=new ve,this.size=0},Pe.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Pe.prototype.get=function(t){return this.__data__.get(t)},Pe.prototype.has=function(t){return this.__data__.has(t)},Pe.prototype.set=function(t,e){var n=this.__data__;if(n instanceof ve){var r=n.__data__;if(!ge||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new be(r)}return n.set(t,e),this.size=n.size,this};var Ue="object"==typeof t&&t&&!t.nodeType&&t,Fe=Ue&&"object"==typeof e&&e&&!e.nodeType&&e,Ne=Fe&&Fe.exports===Ue?O.Buffer:void 0,We=Ne?Ne.allocUnsafe:void 0;function qe(){return[]}var Ve=Object.prototype.propertyIsEnumerable,Be=Object.getOwnPropertySymbols,He=Be?function(t){return null==t?[]:(t=Object(t),function(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}(Be(t),(function(e){return Ve.call(t,e)})))}:qe;const Re=He;var Ye=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)Me(e,Re(t)),t=De(t);return e}:qe;const Qe=Ye;function Je(t,e,n){var r=e(t);return I(t)?r:Me(r,n(t))}function Ze(t){return Je(t,te,Re)}function Ge(t){return Je(t,re,Qe)}const Ke=et(O,"DataView"),Xe=et(O,"Promise"),tn=et(O,"Set");var en="[object Map]",nn="[object Promise]",rn="[object Set]",on="[object WeakMap]",sn="[object DataView]",an=Y(Ke),cn=Y(ge),un=Y(Xe),fn=Y(tn),ln=Y(nt),hn=L;(Ke&&hn(new Ke(new ArrayBuffer(1)))!=sn||ge&&hn(new ge)!=en||Xe&&hn(Xe.resolve())!=nn||tn&&hn(new tn)!=rn||nt&&hn(new nt)!=on)&&(hn=function(t){var e=L(t),n="[object Object]"==e?t.constructor:void 0,r=n?Y(n):"";if(r)switch(r){case an:return sn;case cn:return en;case un:return nn;case fn:return rn;case ln:return on}return e});const pn=hn;var dn=Object.prototype.hasOwnProperty;const vn=O.Uint8Array;function gn(t){var e=new t.constructor(t.byteLength);return new vn(e).set(new vn(t)),e}var yn=/\w*$/,bn=S?S.prototype:void 0,mn=bn?bn.valueOf:void 0;function wn(t,e,n){var r,i,o,s=t.constructor;switch(e){case"[object ArrayBuffer]":return gn(t);case"[object Boolean]":case"[object Date]":return new s(+t);case"[object DataView]":return function(t,e){var n=e?gn(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function(t,e){var n=e?gn(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}(t,n);case"[object Map]":case"[object Set]":return new s;case"[object Number]":case"[object String]":return new s(t);case"[object RegExp]":return(o=new(i=t).constructor(i.source,yn.exec(i))).lastIndex=i.lastIndex,o;case"[object Symbol]":return r=t,mn?Object(mn.call(r)):{}}}var jn=Ht&&Ht.isMap;const _n=jn?Wt(jn):function(t){return k(t)&&"[object Map]"==pn(t)};var $n=Ht&&Ht.isSet;const On=$n?Wt($n):function(t){return k(t)&&"[object Set]"==pn(t)};var Sn,xn="[object Arguments]",Mn="[object Function]",Dn="[object Object]",En={};function An(t,e,n,r,i,o){var s,a=1&e,c=2&e,u=4&e;if(n&&(s=i?n(t,r,i,o):n(t)),void 0!==s)return s;if(!N(t))return t;var f=I(t);if(f){if(s=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&dn.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(t),!a)return function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}(t,s)}else{var l=pn(t),h=l==Mn||"[object GeneratorFunction]"==l;if(Ft(t))return function(t,e){if(e)return t.slice();var n=t.length,r=We?We(n):new t.constructor(n);return t.copy(r),r}(t,a);if(l==Dn||l==xn||h&&!i){if(s=c||h?{}:function(t){return"function"!=typeof t.constructor||Et(t)?{}:ot(De(t))}(t),!a)return c?function(t,e){return _t(t,Qe(t),e)}(t,function(t,e){return t&&_t(e,re(e),t)}(s,t)):function(t,e){return _t(t,Re(t),e)}(t,function(t,e){return t&&_t(e,te(e),t)}(s,t))}else{if(!En[l])return i?t:{};s=wn(t,l,a)}}o||(o=new Pe);var p=o.get(t);if(p)return p;o.set(t,s),On(t)?t.forEach((function(r){s.add(An(r,e,n,r,t,o))})):_n(t)&&t.forEach((function(r,i){s.set(i,An(r,e,n,i,t,o))}));var d=f?void 0:(u?c?Ge:Ze:c?re:te)(t);return function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););}(d||t,(function(r,i){d&&(r=t[i=r]),jt(s,i,An(r,e,n,i,t,o))})),s}En[xn]=En["[object Array]"]=En["[object ArrayBuffer]"]=En["[object DataView]"]=En["[object Boolean]"]=En["[object Date]"]=En["[object Float32Array]"]=En["[object Float64Array]"]=En["[object Int8Array]"]=En["[object Int16Array]"]=En["[object Int32Array]"]=En["[object Map]"]=En["[object Number]"]=En[Dn]=En["[object RegExp]"]=En["[object Set]"]=En["[object String]"]=En["[object Symbol]"]=En["[object Uint8Array]"]=En["[object Uint8ClampedArray]"]=En["[object Uint16Array]"]=En["[object Uint32Array]"]=!0,En["[object Error]"]=En[Mn]=En["[object WeakMap]"]=!1;const Cn=(Sn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},function(t){return null==Sn?void 0:Sn[t]});var Ln=/[&<>"']/g,kn=RegExp(Ln.source),Tn=Object.prototype.hasOwnProperty;function zn(t,e){return null!=t&&Tn.call(t,e)}function In(t,e){return null!=t&&function(t,e,n){for(var r=-1,i=(e=Se(e,t)).length,o=!1;++r<i;){var s=xe(e[r]);if(!(o=null!=t&&n(t,s)))break;t=t[s]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&St(i)&&yt(s,i)&&(I(t)||zt(t))}(t,e,zn)}var Pn=Object.prototype.hasOwnProperty;function Un(t){if(null==t)return!0;if(xt(t)&&(I(t)||"string"==typeof t||"function"==typeof t.splice||Ft(t)||Yt(t)||zt(t)))return!t.length;var e=pn(t);if("[object Map]"==e||"[object Set]"==e)return!t.size;if(Et(t))return!Xt(t).length;for(var n in t)if(Pn.call(t,n))return!1;return!0}var Fn=Object.prototype,Nn=Fn.hasOwnProperty;function Wn(t,e,n,r){return void 0===t||mt(t,Fn[n])&&!Nn.call(r,n)?e:t}var qn={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};function Vn(t){return"\\"+qn[t]}const Bn=/<%=([\s\S]+?)%>/g,Hn={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:Bn,variable:"",imports:{_:{escape:function(t){return(t=Oe(t))&&kn.test(t)?t.replace(Ln,Cn):t}}}};var Rn=/\b__p \+= '';/g,Yn=/\b(__p \+=) '' \+/g,Qn=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Jn=/[()=,{}\[\]\/\s]/,Zn=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Gn=/($^)/,Kn=/['\n\r\u2028\u2029\\]/g,Xn=Object.prototype.hasOwnProperty;function tr(t,e,n){var r=Hn.imports._.templateSettings||Hn;n&&Mt(t,e,n)&&(e=void 0),t=Oe(t),e=se({},e,r,Wn);var i,o,s=se({},e.imports,r.imports,Wn),a=te(s),c=function(t,e){return z(e,(function(e){return t[e]}))}(s,a),u=0,f=e.interpolate||Gn,l="__p += '",h=RegExp((e.escape||Gn).source+"|"+f.source+"|"+(f===Bn?Zn:Gn).source+"|"+(e.evaluate||Gn).source+"|$","g"),p=Xn.call(e,"sourceURL")?"//# sourceURL="+(e.sourceURL+"").replace(/\s/g," ")+"\n":"";t.replace(h,(function(e,n,r,s,a,c){return r||(r=s),l+=t.slice(u,c).replace(Kn,Vn),n&&(i=!0,l+="' +\n__e("+n+") +\n'"),a&&(o=!0,l+="';\n"+a+";\n__p += '"),r&&(l+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),u=c+e.length,e})),l+="';\n";var d=Xn.call(e,"variable")&&e.variable;if(d){if(Jn.test(d))throw new Error("Invalid `variable` option passed into `_.template`")}else l="with (obj) {\n"+l+"\n}\n";l=(o?l.replace(Rn,""):l).replace(Yn,"$1").replace(Qn,"$1;"),l="function("+(d||"obj")+") {\n"+(d?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+l+"return __p\n}";var v=Ie((function(){return Function(a,p+"return "+l).apply(void 0,c)}));if(v.source=l,Te(v))throw v;return v}var er={exports:{}};!function(t,e){t.exports=function(){var t=1e3,e=6e4,n=36e5,r="millisecond",i="second",o="minute",s="hour",a="day",c="week",u="month",f="quarter",l="year",h="date",p="Invalid Date",d=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,v=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,g={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},y=function(t,e,n){var r=String(t);return!r||r.length>=e?t:""+Array(e+1-r.length).join(n)+t},b={s:y,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),r=Math.floor(n/60),i=n%60;return(e<=0?"+":"-")+y(r,2,"0")+":"+y(i,2,"0")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var r=12*(n.year()-e.year())+(n.month()-e.month()),i=e.clone().add(r,u),o=n-i<0,s=e.clone().add(r+(o?-1:1),u);return+(-(r+(n-i)/(o?i-s:s-i))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:u,y:l,w:c,d:a,D:h,h:s,m:o,s:i,ms:r,Q:f}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},m="en",w={};w[m]=g;var j=function(t){return t instanceof S},_=function t(e,n,r){var i;if(!e)return m;if("string"==typeof e){var o=e.toLowerCase();w[o]&&(i=o),n&&(w[o]=n,i=o);var s=e.split("-");if(!i&&s.length>1)return t(s[0])}else{var a=e.name;w[a]=e,i=a}return!r&&i&&(m=i),i||!r&&m},$=function(t,e){if(j(t))return t.clone();var n="object"==typeof e?e:{};return n.date=t,n.args=arguments,new S(n)},O=b;O.l=_,O.i=j,O.w=function(t,e){return $(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var S=function(){function g(t){this.$L=_(t.locale,null,!0),this.parse(t)}var y=g.prototype;return y.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(O.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var r=e.match(d);if(r){var i=r[2]-1||0,o=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},y.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},y.$utils=function(){return O},y.isValid=function(){return!(this.$d.toString()===p)},y.isSame=function(t,e){var n=$(t);return this.startOf(e)<=n&&n<=this.endOf(e)},y.isAfter=function(t,e){return $(t)<this.startOf(e)},y.isBefore=function(t,e){return this.endOf(e)<$(t)},y.$g=function(t,e,n){return O.u(t)?this[e]:this.set(n,t)},y.unix=function(){return Math.floor(this.valueOf()/1e3)},y.valueOf=function(){return this.$d.getTime()},y.startOf=function(t,e){var n=this,r=!!O.u(e)||e,f=O.p(t),p=function(t,e){var i=O.w(n.$u?Date.UTC(n.$y,e,t):new Date(n.$y,e,t),n);return r?i:i.endOf(a)},d=function(t,e){return O.w(n.toDate()[t].apply(n.toDate("s"),(r?[0,0,0,0]:[23,59,59,999]).slice(e)),n)},v=this.$W,g=this.$M,y=this.$D,b="set"+(this.$u?"UTC":"");switch(f){case l:return r?p(1,0):p(31,11);case u:return r?p(1,g):p(0,g+1);case c:var m=this.$locale().weekStart||0,w=(v<m?v+7:v)-m;return p(r?y-w:y+(6-w),g);case a:case h:return d(b+"Hours",0);case s:return d(b+"Minutes",1);case o:return d(b+"Seconds",2);case i:return d(b+"Milliseconds",3);default:return this.clone()}},y.endOf=function(t){return this.startOf(t,!1)},y.$set=function(t,e){var n,c=O.p(t),f="set"+(this.$u?"UTC":""),p=(n={},n[a]=f+"Date",n[h]=f+"Date",n[u]=f+"Month",n[l]=f+"FullYear",n[s]=f+"Hours",n[o]=f+"Minutes",n[i]=f+"Seconds",n[r]=f+"Milliseconds",n)[c],d=c===a?this.$D+(e-this.$W):e;if(c===u||c===l){var v=this.clone().set(h,1);v.$d[p](d),v.init(),this.$d=v.set(h,Math.min(this.$D,v.daysInMonth())).$d}else p&&this.$d[p](d);return this.init(),this},y.set=function(t,e){return this.clone().$set(t,e)},y.get=function(t){return this[O.p(t)]()},y.add=function(r,f){var h,p=this;r=Number(r);var d=O.p(f),v=function(t){var e=$(p);return O.w(e.date(e.date()+Math.round(t*r)),p)};if(d===u)return this.set(u,this.$M+r);if(d===l)return this.set(l,this.$y+r);if(d===a)return v(1);if(d===c)return v(7);var g=(h={},h[o]=e,h[s]=n,h[i]=t,h)[d]||1,y=this.$d.getTime()+r*g;return O.w(y,this)},y.subtract=function(t,e){return this.add(-1*t,e)},y.format=function(t){var e=this,n=this.$locale();if(!this.isValid())return n.invalidDate||p;var r=t||"YYYY-MM-DDTHH:mm:ssZ",i=O.z(this),o=this.$H,s=this.$m,a=this.$M,c=n.weekdays,u=n.months,f=function(t,n,i,o){return t&&(t[n]||t(e,r))||i[n].slice(0,o)},l=function(t){return O.s(o%12||12,t,"0")},h=n.meridiem||function(t,e,n){var r=t<12?"AM":"PM";return n?r.toLowerCase():r},d={YY:String(this.$y).slice(-2),YYYY:this.$y,M:a+1,MM:O.s(a+1,2,"0"),MMM:f(n.monthsShort,a,u,3),MMMM:f(u,a),D:this.$D,DD:O.s(this.$D,2,"0"),d:String(this.$W),dd:f(n.weekdaysMin,this.$W,c,2),ddd:f(n.weekdaysShort,this.$W,c,3),dddd:c[this.$W],H:String(o),HH:O.s(o,2,"0"),h:l(1),hh:l(2),a:h(o,s,!0),A:h(o,s,!1),m:String(s),mm:O.s(s,2,"0"),s:String(this.$s),ss:O.s(this.$s,2,"0"),SSS:O.s(this.$ms,3,"0"),Z:i};return r.replace(v,(function(t,e){return e||d[t]||i.replace(":","")}))},y.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},y.diff=function(r,h,p){var d,v=O.p(h),g=$(r),y=(g.utcOffset()-this.utcOffset())*e,b=this-g,m=O.m(this,g);return m=(d={},d[l]=m/12,d[u]=m,d[f]=m/3,d[c]=(b-y)/6048e5,d[a]=(b-y)/864e5,d[s]=b/n,d[o]=b/e,d[i]=b/t,d)[v]||b,p?m:O.a(m)},y.daysInMonth=function(){return this.endOf(u).$D},y.$locale=function(){return w[this.$L]},y.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),r=_(t,e,!0);return r&&(n.$L=r),n},y.clone=function(){return O.w(this.$d,this)},y.toDate=function(){return new Date(this.valueOf())},y.toJSON=function(){return this.isValid()?this.toISOString():null},y.toISOString=function(){return this.$d.toISOString()},y.toString=function(){return this.$d.toUTCString()},g}(),x=S.prototype;return $.prototype=x,[["$ms",r],["$s",i],["$m",o],["$H",s],["$W",a],["$M",u],["$y",l],["$D",h]].forEach((function(t){x[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),$.extend=function(t,e){return t.$i||(t(e,S,$),t.$i=!0),$},$.locale=_,$.isDayjs=j,$.unix=function(t){return $(1e3*t)},$.en=w[m],$.Ls=w,$.p={},$}()}(er);const nr=r(er.exports);var rr={exports:{}};!function(t,e){var n,r,i;t.exports=(n="minute",r=/[+-]\d\d(?::?\d\d)?/g,i=/([+-]|\d\d)/g,function(t,e,o){var s=e.prototype;o.utc=function(t){return new e({date:t,utc:!0,args:arguments})},s.utc=function(t){var e=o(this.toDate(),{locale:this.$L,utc:!0});return t?e.add(this.utcOffset(),n):e},s.local=function(){return o(this.toDate(),{locale:this.$L,utc:!1})};var a=s.parse;s.parse=function(t){t.utc&&(this.$u=!0),this.$utils().u(t.$offset)||(this.$offset=t.$offset),a.call(this,t)};var c=s.init;s.init=function(){if(this.$u){var t=this.$d;this.$y=t.getUTCFullYear(),this.$M=t.getUTCMonth(),this.$D=t.getUTCDate(),this.$W=t.getUTCDay(),this.$H=t.getUTCHours(),this.$m=t.getUTCMinutes(),this.$s=t.getUTCSeconds(),this.$ms=t.getUTCMilliseconds()}else c.call(this)};var u=s.utcOffset;s.utcOffset=function(t,e){var o=this.$utils().u;if(o(t))return this.$u?0:o(this.$offset)?u.call(this):this.$offset;if("string"==typeof t&&(t=function(t){void 0===t&&(t="");var e=t.match(r);if(!e)return null;var n=(""+e[0]).match(i)||["-",0,0],o=n[0],s=60*+n[1]+ +n[2];return 0===s?0:"+"===o?s:-s}(t),null===t))return this;var s=Math.abs(t)<=16?60*t:t,a=this;if(e)return a.$offset=s,a.$u=0===t,a;if(0!==t){var c=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(a=this.local().add(s+c,n)).$offset=s,a.$x.$localOffset=c}else a=this.utc();return a};var f=s.format;s.format=function(t){var e=t||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return f.call(this,e)},s.valueOf=function(){var t=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*t},s.isUTC=function(){return!!this.$u},s.toISOString=function(){return this.toDate().toISOString()},s.toString=function(){return this.toDate().toUTCString()};var l=s.toDate;s.toDate=function(t){return"s"===t&&this.$offset?o(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():l.call(this)};var h=s.diff;s.diff=function(t,e,n){if(t&&this.$u===t.$u)return h.call(this,t,e,n);var r=this.local(),i=o(t).local();return h.call(r,i,e,n)}})}(rr);const ir=r(rr.exports);var or=(t=>(t.COMP="comp",t.CODE="code",t))(or||{}),sr=(t=>(t.CODE="code",t))(sr||{});nr.extend(ir),t("t",((t="")=>t.replace(/\B([A-Z])/g,"-$1").toLowerCase()));const ar=(t,e=[])=>{const n=[],r=function(t,e){if(!Array.isArray(e))return null;for(let i=0,o=e.length;i<o;i++){const o=e[i];if(n.push(o),`${o.id}`==`${t}`)return o;if(o.items){const e=r(t,o.items);if(e)return e}n.pop()}return null};return r(t,e),n},cr=(t,e=[])=>{const n=[],r=function(t,e){if(Array.isArray(e))for(let i=0,o=e.length;i<o;i++){const o=e[i],s=t.findIndex((t=>`${t}`==`${o.id}`));s>-1&&(t.slice(s,1),n.push(o)),o.items&&r(t,o.items)}};return r(t,e),n},ur=(t,e,n)=>{const r=ar(t.id,e),i=r.pop();let o=r.pop();if(n&&(o=ar(n,e).pop()),!i)throw new Error("未找到目标节点");if(!o)throw new Error("未找到父节点");const s=o.items?.findIndex((t=>t.id===i.id));o.items.splice(s,1,t)},fr=(t,e,n={},r)=>{let i=[];return i=r?n[r]?.[e.id].keys||[]:((t={},e)=>Array.from(Object.values(t).reduce(((t,n)=>((n[e]?.keys||[]).forEach((e=>t.add(e))),t)),new Set)))(n,e.id),i.forEach((n=>{const r=`${n}`.split("."),i=r.length;r.reduce(((e,n,r)=>{if(i-1===r){const r=`__magic__${n}`;void 0===e[r]&&(e[r]=e[n]);try{e[n]=t(e[r])}catch(o){console.error(o),e[n]=""}return e}return"[object Object]"===Object.prototype.toString.call(e)||Array.isArray(e)?e[n]:{}}),e)})),Array.isArray(e.items)&&e.items.forEach((e=>fr(t,e,n))),e},lr=t=>{const e={},n={string:"",object:{},array:[],boolean:!1,number:0,null:null,any:void 0};return t.forEach((t=>{void 0!==t.defaultValue?e[t.name]=t.defaultValue:"object"===t.type?e[t.name]=t.fields?lr(t.fields):{}:t.type?e[t.name]=n[t.type]:e[t.name]=void 0})),e};class hr extends j{type="base";id;isInit=!1;data={};fields=[];constructor(t){super(),this.id=t.schema.id,this.setFields(t.schema.fields),this.updateDefaultData()}setFields(t){this.fields=t}setData(t){this.data=t,this.emit("change")}getDefaultData(){return lr(this.fields)}updateDefaultData(){this.setData(this.getDefaultData())}async init(){this.isInit=!0}destroy(){this.data={},this.fields=[],this.removeAllListeners()}}const pr=t=>Object.entries(t).reduce(((t,[e,n])=>{let r=n;return"object"==typeof n&&(r=JSON.stringify(n)),void 0!==n?`${t}${t?"&":""}${globalThis.encodeURIComponent(e)}=${globalThis.encodeURIComponent(`${r}`)}`:t}),""),dr=async t=>{const{url:e,method:n="GET",headers:r={},params:i={},data:o={},...s}=t,a=pr(i);let c=JSON.stringify(o);return r["Content-Type"]?.includes("application/x-www-form-urlencoded")&&(c=pr(o)),(await globalThis.fetch(a?`${e}?${a}`:e,{method:n,headers:r,body:"GET"===n?void 0:c,...s})).json()};class vr extends hr{type="http";isLoading=!1;error;schema;httpOptions;fetch;constructor(t){const{options:e,...n}=t.schema;super({schema:n}),this.schema=t.schema,this.httpOptions=e,"function"==typeof t.request?this.fetch=t.request:"function"==typeof globalThis.fetch&&(this.fetch=dr)}async init(){this.schema.autoFetch&&await this.request(this.httpOptions),super.init()}async request(t){const e=await(this.fetch?.({...this.httpOptions,...t}));if(this.schema.responseOptions?.dataPath){const t=((t,e)=>{const n=t.split("."),r=n.length;return n.reduce(((t,e,n)=>"[object Object]"===Object.prototype.toString.call(t)||Array.isArray(t)?t[e]:r-1!==n?{}:void 0),e)})(this.schema.responseOptions.dataPath,e);this.setData(t)}else this.setData(e)}get(t){return this.request({...t,method:"GET"})}post(t){return this.request({...t,method:"POST"})}}class gr extends j{static dataSourceClassMap=new Map;static registe(t,e){gr.dataSourceClassMap.set(t,e)}dataSourceMap=new Map;data={};request;constructor(t){super(),t.httpDataSourceOptions?.request&&(this.request=t.httpDataSourceOptions.request),t.dataSourceConfigs.forEach((t=>{this.addDataSource(t)}))}get(t){return this.dataSourceMap.get(t)}addDataSource(t){if(!t)return;let e;if("http"===t.type)e=new vr({schema:t,request:this.request});else{const n=gr.dataSourceClassMap.get(t.type)||hr;e=new n({schema:t})}this.dataSourceMap.set(t.id,e),this.data[e.id]=e.data,e.init().then((()=>{this.data[e.id]=e.data})),e.on("change",(()=>{Object.assign(this.data[e.id],e.data),this.emit("change",e.id)}))}removeDataSource(t){this.get(t)?.destroy(),delete this.data[t],this.dataSourceMap.delete(t)}updateSchema(t){t.forEach((t=>{const e=this.dataSourceMap.get(t.id);e&&(e.setFields(t.fields),e.updateDefaultData(),this.data[e.id]=e.data)}))}destroy(){this.removeAllListeners(),this.data={},this.dataSourceMap.forEach((t=>{t.destroy()})),this.dataSourceMap=new Map}}const yr=gr,br=(t,e=((t,e)=>t),n)=>{if(!t?.dataSources)return;const r=new yr({dataSourceConfigs:t.dataSources,httpDataSourceOptions:n});return t.dataSources&&t.dataSourceDeps&&cr(((t={})=>Array.from(Object.values(t).reduce(((t,e)=>(Object.keys(e).forEach((e=>{t.add(e)})),t)),new Set)))(t.dataSourceDeps),t.items).forEach((n=>{ur(e(n,r.data),t.items)})),r.on("change",(e=>{const n=t.dataSourceDeps?.[e];n&&r.emit("update-data",cr(Object.keys(n),t.items),e)})),r},mr=class{isIos=!1;isIphone=!1;isIpad=!1;isAndroid=!1;isAndroidPad=!1;isMac=!1;isWin=!1;isMqq=!1;isWechat=!1;isWeb=!1;constructor(t=globalThis.navigator.userAgent,e={}){this.isIphone=t.indexOf("iPhone")>=0,this.isIpad=/(iPad).*OS\s([\d_]+)/.test(t),this.isIos=this.isIphone||this.isIpad,this.isAndroid=t.indexOf("Android")>=0,this.isAndroidPad=this.isAndroid&&t.indexOf("Mobile")<0,this.isMac=t.indexOf("Macintosh")>=0,this.isWin=t.indexOf("Windows")>=0,this.isMqq=/QQ\/([\d.]+)/.test(t),this.isWechat=t.indexOf("MicroMessenger")>=0&&t.indexOf("wxwork")<0,this.isWeb=!this.isIos&&!this.isAndroid&&!/(WebOS|BlackBerry)/.test(t),Object.entries(e).forEach((([t,e])=>{this[t]=e}))}},wr="magic:common:events:",jr="magic:common:actions:",_r="show",$r="hide",Or="scrollIntoView",Sr="scrollToTop",xr=(t,e)=>{if(!t)return!1;if(!t.id)return xr(t.parentElement,e);const n=e.page?.getNode(t.id);return n||!1},Mr=(t,e,n)=>{const r=xr(n.target,t);var i;r&&t.emit((i=e).startsWith(wr)?i:`magic:common:events:${i}`,r)};class Dr{data={};set(t,e){this.data[t]=e}get(t){return this.data[t]}}class Er extends w.EventEmitter{data;style;events;instance;page;parent;app;store=new Dr;constructor(t){super(),this.page=t.page,this.parent=t.parent,this.app=t.app;const{events:e}=t.config;this.data=t.config,this.events=e||[],this.listenLifeSafe(),this.once("destroy",(()=>{this.instance=null,"function"==typeof this.data.destroy&&this.data.destroy(this),this.listenLifeSafe()}))}setData(t){this.data=t,this.emit("updata-data")}destroy(){this.removeAllListeners()}listenLifeSafe(){this.once("created",(async t=>{this.instance=t,await this.runCodeBlock("created")})),this.once("mounted",(async t=>{this.instance=t;const e=this.app.eventQueueMap[t.config.id]||[];for(let n=e.shift();n;n=e.shift())this.app.compActionHandler(n.eventConfig,n.fromCpt,n.args);await this.runCodeBlock("mounted")}))}async runCodeBlock(t){if("function"!=typeof this.data[t]){if(this.data[t]?.hookType===sr.CODE&&!Un(this.app.codeDsl))for(const e of this.data[t].hookData){const{codeId:t,params:n={}}=e;this.app.codeDsl[t]&&"function"==typeof this.app.codeDsl[t]?.content&&await this.app.codeDsl[t].content({app:this.app,params:n})}}else await this.data[t](this)}}const Ar=Er,Cr=class extends Ar{nodes=new Map;constructor(t){super(t),this.setNode(t.config.id,this),this.initNode(t.config,this)}initNode(t,e){const n=new Ar({config:t,parent:e,page:this,app:this.app});this.setNode(t.id,n),t.items?.forEach((t=>{this.initNode(t,n)}))}getNode(t){return this.nodes.get(t)}setNode(t,e){this.nodes.set(t,e)}deleteNode(t){this.nodes.delete(t)}destroy(){super.destroy(),this.nodes.clear()}};class Lr extends w.EventEmitter{env=new mr;dsl;codeDsl;dataSourceManager;page;platform="mobile";jsEngine="browser";designWidth=375;components=new Map;eventQueueMap={};eventList=new Map;constructor(t){var e;super(),this.setEnv(t.ua),this.codeDsl=t.config?.codeBlocks,t.platform&&(this.platform=t.platform),t.jsEngine&&(this.jsEngine=t.jsEngine),void 0!==t.designWidth&&this.setDesignWidth(t.designWidth),t.transformStyle&&(this.transformStyle=t.transformStyle),t.config&&this.setConfig(t.config,t.curPage,t.request),"browser"===(e=this).jsEngine&&(window.document.body.addEventListener("click",(t=>{Mr(e,"click",t)})),window.document.body.addEventListener("click",(t=>{Mr(e,"click:capture",t)}),!0))}setEnv(t){this.env=new mr(t)}setDesignWidth(t){this.designWidth=t,"browser"===this.jsEngine&&(this.calcFontsize(),globalThis.removeEventListener("resize",this.calcFontsize),globalThis.addEventListener("resize",this.calcFontsize))}transformStyle(t){if(!t)return{};let e={};const n={};e="string"==typeof t?(t=>{if("string"!=typeof t)return t;const e={};return t.split(";").forEach((t=>{if(!t)return;const n=t.split(":");let r=n.shift(),i=n.join(":");r&&(r=r.replace(/^\s*/,"").replace(/\s*$/,""),i=i.replace(/^\s*/,"").replace(/\s*$/,""),r=r.split("-").map(((t,e)=>e>0?`${t[0].toUpperCase()}${t.substr(1)}`:t)).join(""),e[r]=i)})),e})(t):{...t};const r="hippy"===this.jsEngine,i=["zIndex","opacity","fontWeight"];return Object.entries(e).forEach((([t,e])=>{"scale"===t&&!n.transform&&r?n.transform=[{scale:e}]:"backgroundImage"!==t||r?"transform"===t&&"string"!=typeof e?n[t]=this.getTransform(e):!i.includes(t)&&e&&/^[-]?[0-9]*[.]?[0-9]*$/.test(e)?n[t]=r?e:e/100+"rem":n[t]=e:e&&(n[t]=(t=>!t||/^url/.test(t)||/^linear-gradient/.test(t)?t:`url(${t})`)(e))})),n}setConfig(t,e,n){this.dsl=t,!e&&t.items.length&&(e=t.items[0].id),this.dataSourceManager&&this.dataSourceManager.destroy(),this.dataSourceManager=br(t,((t,e)=>this.compiledNode(t,e)),{request:n}),this.codeDsl=t.codeBlocks,this.setPage(e||this.page?.data?.id)}addPage(){console.info("addPage 已经弃用")}setPage(t){const e=this.dsl?.items.find((e=>e.id===t));if(!e)return this.page&&(this.page.destroy(),this.page=void 0),void super.emit("page-change");e!==this.page?.data&&(this.page&&this.page.destroy(),this.page=new Cr({config:e,app:this}),super.emit("page-change",this.page),this.bindEvents())}deletePage(){this.page=void 0}getPage(t){return t?this.page?.data.id===t?this.page:void 0:this.page}registerComponent(t,e){this.components.set(t,e)}unregisterComponent(t){this.components.delete(t)}resolveComponent(t){return this.components.get(t)}bindEvents(){if(Array.from(this.eventList.keys()).forEach((t=>{const e=this.eventList.get(t);e&&this.off(e,t)})),this.eventList.clear(),this.page)for(const[,t]of this.page.nodes)t.events?.forEach((e=>{const n=`${e.name}_${t.data.id}`,r=(t,...n)=>{this.eventHandler(e,t,n)};this.eventList.set(r,n),this.on(n,r)}))}emit(t,e,...n){return e?.data?.id?super.emit(`${String(t)}_${e.data.id}`,e,...n):super.emit(t,e,...n)}async codeActionHandler(t){const{codeId:e="",params:n={}}=t;e&&!Un(this.codeDsl)&&this.codeDsl[e]&&"function"==typeof this.codeDsl[e]?.content&&await this.codeDsl[e].content({app:this,params:n})}async compActionHandler(t,e,n){if(!this.page)throw new Error("当前没有页面");const{method:r,to:i}=t,o=this.page.getNode(i);if(!o)throw`ID为${i}的组件不存在`;if((t=>t.startsWith(jr))(r))return((t,e)=>{const{instance:n}=e;if(n)switch(t.replace(jr,"")){case _r:n.show();break;case $r:n.hide();break;case Or:n.$el?.scrollIntoView({behavior:"smooth"});break;case Sr:window.scrollTo({top:0,behavior:"smooth"})}})(r,o);o.instance?"function"==typeof o.instance[r]&&await o.instance[r](e,...n):this.addEventToMap({eventConfig:t,fromCpt:e,args:n})}compiledNode(t,e,n){return fr((t=>"string"==typeof t?tr(t)(e):t?.isBindDataSource&&t.dataSourceId?e[t.dataSourceId]:t),An(t,5),this.dsl?.dataSourceDeps,n)}destroy(){this.removeAllListeners(),this.page=void 0,"browser"===this.jsEngine&&globalThis.removeEventListener("resize",this.calcFontsize)}async eventHandler(t,e,n){if(In(t,"actions")){const{actions:r}=t;for(const t of r)t.actionType===or.COMP?await this.compActionHandler(t,e,n):t.actionType===or.CODE&&await this.codeActionHandler(t)}else await this.compActionHandler(t,e,n)}addEventToMap(t){this.eventQueueMap[t.eventConfig.to]?this.eventQueueMap[t.eventConfig.to].push(t):this.eventQueueMap[t.eventConfig.to]=[t]}getTransform(t){if(!t)return[];const e=Object.entries(t).map((([t,e])=>e.trim()?("rotate"===t&&(t=>/^(-?\d+)(\.\d+)?$/.test(t))(e)&&(e=`${e}deg`),"hippy"!==this.jsEngine?`${t}(${e})`:{[t]:e}):""));if("hippy"===this.jsEngine)return e;const n=e.join(" ");return n.trim()?n:"none"}calcFontsize(){const{width:t}=document.documentElement.getBoundingClientRect(),e=t/(this.designWidth/100);document.documentElement.style.fontSize=`${e}px`}}const kr=Lr,Tr=Vue.defineComponent({__name:"App",setup(t){const e=Vue.inject("app"),n=Vue.ref(),r=Vue.ref(),i=Vue.ref(),o=Vue.computed((()=>n.value?.items?.find((t=>t.id===r.value))||n.value?.items?.[0]));return Vue.watch(o,(async()=>{await Vue.nextTick();const t=document.querySelector(".magic-ui-page");t&&window.magic.onPageElUpdate(t)})),window.magic?.onRuntimeReady({getApp:()=>e,updateRootConfig(t){n.value=t,e?.setConfig(t,r.value)},updatePageId(t){r.value=t,e?.setPage(t)},select(t){i.value=t,e?.getPage(t)&&this.updatePageId?.(t);const n=document.getElementById(`${t}`);return n||Vue.nextTick().then((()=>document.getElementById(`${t}`)))},add({config:t,parentId:r}){if(!n.value)throw new Error("error");if(!i.value)throw new Error("error");if(!r)throw new Error("error");const o=ar(r,[n.value]).pop();if(!o)throw new Error("未找到父节点");if("page"!==t.type){const n=e?.page?.getNode(o.id);n&&e?.page?.initNode(t,n)}if(o.id!==i.value){const e=o.items?.findIndex((t=>t.id===i.value));o.items?.splice(e+1,0,t)}else o.items?.push(t)},update({config:t,parentId:r}){if(!n.value||!e)throw new Error("error");const i=e.compiledNode(t,e.dataSourceManager?.data||{});ur(Vue.reactive(i),[n.value],r);const o=e.page?.getNode(t.id);o&&o.setData(t)},remove({id:t,parentId:r}){if(!n.value)throw new Error("error");const i=ar(t,[n.value]).pop();if(!i)throw new Error("未找到目标元素");const o=ar(r,[n.value]).pop();if(!o)throw new Error("未找到父元素");"page"===i.type?e?.deletePage():e?.page?.deleteNode(i.id);const s=o.items?.findIndex((t=>t.id===i.id));o.items.splice(s,1)}}),(t,e)=>{const n=Vue.resolveComponent("magic-ui-page");return o.value?(Vue.openBlock(),Vue.createBlock(n,{key:o.value.id,config:o.value},null,8,["config"])):Vue.createCommentVNode("",!0)}}});Promise.all([n((()=>e.import("./comp-entry-legacy-1cceeaa6.js"))),n((()=>e.import("./plugin-entry-legacy-2e36e49d.js")))]).then((([t,e])=>{const n=Vue.createApp(Tr);Object.entries(t.default).forEach((([t,e])=>{n.component(`magic-ui-${t}`,e)})),Object.values(e.default).forEach((t=>{n.use(t)}));const r=new kr({ua:window.navigator.userAgent,platform:"editor"});r.env.isWeb&&r.setDesignWidth(window.document.documentElement.getBoundingClientRect().width),window.appInstance=r,n.config.globalProperties.app=r,n.provide("app",r),n.mount("#app")}))}}}));
//# sourceMappingURL=index-legacy-18858b11.js.map
